<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>è©³ç´°ä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ  - Ryuzan Mix Salon</title>
  <meta content="ãƒ—ãƒ­ä»•æ§˜ã®è©³ç´°è¨­å®šã§ç†æƒ³ã®MIXã‚’å®Ÿç¾ï¼éŒ²éŸ³éŸ³æºæƒ…å ±ã€ãƒ”ãƒƒãƒè£œæ­£ã€ãƒãƒ¢ãƒªæ–¹å‘æ€§ãªã©ã€å…·ä½“çš„ãªæ¥½æ›²ä¾‹ä»˜ãã§ç°¡å˜è¨­å®šã€‚" name="description"/>
  <meta content="æ­Œã£ã¦ã¿ãŸ,MIX,ä¾é ¼,ãƒ•ã‚©ãƒ¼ãƒ ,VTuber,ãƒœã‚«ãƒ­,è©³ç´°,è‡ªå‹•ç”Ÿæˆ,DM,ãƒ—ãƒ­ä»•æ§˜" name="keywords">
  
  <!-- ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ -->
  <link href="favicon256.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="favicon256.png" rel="icon" sizes="192x192" type="image/png"/>
  <link href="favicon256.png" rel="apple-touch-icon"/>
  
  <!-- SEO -->
  <link href="https://ryuzanmix.github.io/request-form.html" rel="canonical"/>
  <meta content="index,follow" name="robots"/>
  
  <!-- å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet"/>
  
  <!-- OGP -->
  <meta content="website" property="og:type"/>
  <meta content="https://ryuzanmix.github.io/request-form.html" property="og:url"/>
  <meta content="è©³ç´°ä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ  - Ryuzan Mix Salon" property="og:title"/>
  <meta content="è©³ç´°ãªè¨­å®šã§ä¾é ¼æ–‡ç« ã‚’è‡ªå‹•ç”Ÿæˆï¼ãƒ—ãƒ­ä»•æ§˜ã®æ­Œã£ã¦ã¿ãŸMIXä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ ã€‚" property="og:description"/>
  <meta content="https://ryuzanmix.github.io/og-image.png" property="og:image"/>

  <!-- ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ -->
  <link href="styles.css" rel="stylesheet"/>

  <style>
    /* ãƒ•ã‚©ãƒ¼ãƒ å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
    .form-main {
      margin-top: 80px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 30px;
      background: var(--card);
      border-radius: 20px;
      box-shadow: var(--shadow);
      position: relative;
    }

    .back-link {
      position: absolute;
      top: 20px;
      left: 20px;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: color 0.3s ease;
      min-height: var(--touch-target-min);
    }

    .back-link:hover, .back-link:focus {
      color: var(--primary-dark);
    }

    .header h1 {
      color: var(--primary-dark);
      font-size: clamp(1.8rem, 4vw, 2rem);
      margin-bottom: 10px;
    }

    .header p {
      color: var(--text-light);
      font-size: var(--font-size-large);
    }

    .form-card {
      background: var(--card);
      padding: 30px;
      border-radius: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }

    .form-section {
      margin-bottom: 30px;
    }

    .form-section h3 {
      color: var(--primary-dark);
      font-size: var(--font-size-large);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text);
      font-size: var(--font-size-base);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .required {
      color: var(--accent);
      font-size: var(--font-size-small);
    }

    .optional {
      color: var(--text-muted);
      font-size: var(--font-size-small);
    }

    input[type="text"], input[type="url"], input[type="email"], input[type="number"], select, textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: var(--font-size-base);
      transition: border-color 0.3s ease;
      background: white;
      min-height: var(--touch-target-min);
      line-height: var(--line-height-normal);
    }

    input[type="text"]:focus, input[type="url"]:focus, input[type="email"]:focus, input[type="number"]:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(178, 143, 221, 0.2);
    }

    textarea {
      resize: vertical;
      min-height: 80px;
      line-height: var(--line-height-normal);
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: var(--bg-secondary);
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
      min-height: var(--touch-target-min);
    }

    .checkbox-item:hover, .checkbox-item:focus-within {
      background: var(--primary-light);
    }

    .checkbox-item input[type="checkbox"] {
      width: auto;
      margin: 0;
      min-height: auto;
    }

    .radio-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .radio-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: var(--bg-secondary);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent;
      min-height: var(--touch-target-min);
    }

    .radio-item:hover, .radio-item:focus-within {
      background: var(--primary-light);
    }

    .radio-item input[type="radio"]:checked + .radio-label {
      color: var(--primary-dark);
      font-weight: 600;
    }

    .radio-item:has(input[type="radio"]:checked) {
      background: var(--primary-light);
      border-color: var(--primary);
    }

    .radio-item input[type="radio"] {
      width: auto;
      margin: 0;
      min-height: auto;
    }

    .help-text {
      font-size: var(--font-size-small);
      color: var(--text-muted);
      margin-top: 5px;
      line-height: var(--line-height-normal);
    }

    .generate-btn {
      width: 100%;
      background: var(--primary);
      color: white;
      border: none;
      padding: 16px 24px;
      border-radius: 50px;
      font-size: var(--font-size-large);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
      min-height: var(--touch-target-min);
    }

    .generate-btn:hover, .generate-btn:focus {
      background: var(--primary-dark);
      transform: translateY(-2px);
      outline: none;
      box-shadow: 0 0 0 3px rgba(178, 143, 221, 0.4);
    }

    .generate-btn:disabled {
      background: var(--text-muted);
      cursor: not-allowed;
      transform: none;
    }

    .output-section {
      display: none;
      margin-top: 30px;
    }

    .output-section.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .output-card {
      background: var(--card);
      border: 2px solid var(--success);
      border-radius: 20px;
      overflow: hidden;
    }

    .output-header {
      background: var(--success);
      color: white;
      padding: 20px;
      text-align: center;
    }

    .output-content {
      padding: 30px;
    }

    .copy-area {
      background: #f8f8f8;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      font-family: monospace;
      font-size: var(--font-size-small);
      line-height: var(--line-height-loose);
      white-space: pre-wrap;
      margin: 20px 0;
      position: relative;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: var(--font-size-small);
      cursor: pointer;
      transition: background 0.3s ease;
      min-height: 36px;
    }

    .copy-btn:hover, .copy-btn:focus {
      background: var(--primary-dark);
    }

    .copy-btn.copied {
      background: var(--success);
    }

    .contact-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .contact-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      border: 2px solid var(--primary);
      background: white;
      color: var(--primary);
      min-height: var(--touch-target-min);
      font-size: var(--font-size-small);
    }

    .contact-btn:hover, .contact-btn:focus {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
      outline: none;
    }

    .contact-btn.primary {
      background: var(--primary);
      color: white;
    }

    .contact-btn.primary:hover, .contact-btn.primary:focus {
      background: var(--primary-dark);
    }

    .section-indicator {
      background: var(--primary-light);
      color: var(--primary-dark);
      padding: 4px 12px;
      border-radius: 20px;
      font-size: var(--font-size-small);
      font-weight: 600;
    }

    .validation-error {
      border-color: var(--error) !important;
      box-shadow: 0 0 0 2px rgba(244, 67, 54, 0.2) !important;
    }

    .checkbox-item.validation-error {
      border-color: var(--error) !important;
      background-color: #ffebee !important;
    }

    /* æº–å‚™ä¸­ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå…±é€šï¼‰ */
    .preparing-item {
      opacity: 0.5 !important;
      background: #f8f8f8 !important;
      cursor: not-allowed !important;
      position: relative;
    }

    .preparing-item:hover {
      background: #f8f8f8 !important;
    }

    .preparing-item::after {
      content: "æº–å‚™ä¸­";
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      background: var(--warning);
      color: white;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 0.7rem;
      font-weight: 600;
      z-index: 10;
    }

    /* ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ç”¨æº–å‚™ä¸­ã‚¹ã‚¿ã‚¤ãƒ« */
    .radio-item.preparing-item {
      border-color: #ddd !important;
    }

    /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ç”¨æº–å‚™ä¸­ã‚¹ã‚¿ã‚¤ãƒ« */
    .checkbox-item.preparing-item {
      border-color: #ddd !important;
    }

    .error-message {
      color: var(--error);
      font-size: var(--font-size-small);
      margin-top: 5px;
      display: none;
    }

    /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
    @media (max-width: 768px) {
      .form-main {
        margin-top: 70px;
      }

      .container {
        padding: 15px;
      }
      
      .form-card {
        padding: 20px;
        border-radius: 16px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .checkbox-group, .radio-group {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .radio-item, .checkbox-item {
        padding: 16px;
        min-height: 56px;
        font-size: 16px;
      }

      .back-link {
        position: static;
        margin-bottom: 20px;
        justify-content: center;
        padding: 12px;
        border-radius: 8px;
        background: var(--bg-secondary);
      }

      .header h1 {
        font-size: var(--font-size-xl);
      }

      .contact-buttons {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .form-section h3 {
        font-size: 1.1rem;
        line-height: 1.4;
      }

      .section-indicator {
        display: block;
        margin-top: 5px;
      }

      /* ãƒ¢ãƒã‚¤ãƒ«ã§ã®ã‚¿ãƒƒãƒå¯¾å¿œå¼·åŒ– */
      input, select, textarea {
        font-size: 16px;
        min-height: 48px;
        padding: 14px 16px;
      }

      textarea {
        min-height: 100px;
      }

      .generate-btn {
        min-height: 56px;
        font-size: 18px;
        font-weight: 700;
      }

      .help-text {
        font-size: 14px;
        line-height: 1.5;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }

      .form-card {
        padding: 16px;
      }

      .header {
        padding: 20px;
      }

      .nav-inner {
        gap: 8px;
        padding: 0 10px;
      }

      .nav-inner a {
        font-size: 12px;
        padding: 6px 10px;
      }
    }
  </style>
</head>

<body>
  <!-- çµ±ä¸€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
  <nav class="guide-header-nav" style="position: fixed; top: 0; left: 0; right: 0; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); z-index: 1000; padding: 10px 0; border-bottom: 1px solid var(--border); box-shadow: var(--shadow);">
    <div class="nav-inner" style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: center; gap: 20px; padding: 0 20px; flex-wrap: wrap;">
      <a href="index.html" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">ãƒ›ãƒ¼ãƒ </a>
      <a href="index.html#playlist" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">å®Ÿç¸¾</a>
      <a href="index.html#about" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">ã‚µãƒ­ãƒ³ã«ã¤ã„ã¦</a>
      <a href="index.html#pricing" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">æ–™é‡‘</a>
      <a href="recording-guide.html" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">éŒ²éŸ³ã‚¬ã‚¤ãƒ‰</a>
      <a href="request-form.html" class="current" style="font-size: 14px; font-weight: 500; background: var(--primary-light); color: var(--primary-dark); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">è©³ç´°ä¾é ¼</a>
      <a href="index.html#faq" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">ã‚ˆãã‚ã‚‹è³ªå•</a>
      <a href="index.html#contact" style="font-size: 14px; font-weight: 500; color: var(--text); padding: 8px 16px; border-radius: 20px; transition: all 0.3s ease; text-decoration: none;">ãŠå•ã„åˆã‚ã›</a>
    </div>
  </nav>

  <div class="form-main">
    <div class="container">
      <div class="header">
        <a href="index.html" class="back-link">
          <i class="fas fa-arrow-left"></i>
          ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
        </a>
        <h1>ğŸµ è©³ç´°ä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ </h1>
        <p>ãƒ—ãƒ­ä»•æ§˜ã®è©³ç´°è¨­å®šã§ã€ç†æƒ³é€šã‚Šã®MIXã‚’å®Ÿç¾ã—ã¾ã™</p>
      </div>

      <div style="background: #fff3cd; border: 2px solid var(--warning); border-radius: 20px; padding: 25px; margin-bottom: 30px; text-align: center;">
        <h3 style="color: var(--warning); margin-bottom: 15px;">
          <i class="fas fa-exclamation-triangle"></i>
          ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›å‰ã®é‡è¦ãªãŠçŸ¥ã‚‰ã›
        </h3>
        <p style="color: var(--warning); font-weight: 600; margin-bottom: 12px;">
          <strong>ã”ä¾é ¼ã®éš›ã¯ã€<a href="recording-guide.html" style="color: var(--warning); text-decoration: underline;">ğŸ“± éŒ²éŸ³æ–¹æ³•ã‚¬ã‚¤ãƒ‰</a>ã‚’å¿…ãšã”ç¢ºèªãã ã•ã„ã€‚</strong>
        </p>
        <p style="color: var(--warning); font-size: 0.9rem; margin: 0;">
          é©åˆ‡ãªéŒ²éŸ³æ–¹æ³•ã«ã‚ˆã‚Šã€MIXã®ä»•ä¸ŠãŒã‚ŠãŒå¤§ããå‘ä¸Šã—ã¾ã™ã€‚
        </p>
      </div>

      <form id="requestForm">
        <!-- ä¾é ¼è€…æƒ…å ± -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ‘¤ ä¾é ¼è€…æƒ…å ± <span class="section-indicator">å¿…é ˆ</span></h3>
            
            <div class="form-row">
              <div class="form-group">
                <label for="clientName">ä¾é ¼è€…å <span class="required">â€»å¿…é ˆ</span></label>
                <input type="text" id="clientName" placeholder="ä¾‹ï¼šæ¡œéŸ³ã¿ã¤ãã€@sakura_mixã€ã¿ã¤ãã¡ã‚ƒã‚“" required>
                <div class="error-message" id="clientNameError">ãŠåå‰ã¾ãŸã¯ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
              </div>
              <div class="form-group">
                <label for="clientContact">é€£çµ¡å…ˆ <span class="required">â€»å¿…é ˆ</span></label>
                <input type="text" id="clientContact" placeholder="ä¾‹ï¼šsakura@example.comã€@sakura_mix" required>
                <div class="error-message" id="clientContactError">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
              </div>
            </div>

            <div class="form-group">
              <label for="contactMethod">å¸Œæœ›é€£çµ¡æ–¹æ³• <span class="required">â€»å¿…é ˆ</span></label>
              <select id="contactMethod" required>
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option value="twitter">Xï¼ˆTwitterï¼‰DM</option>
                <option value="email">ãƒ¡ãƒ¼ãƒ«</option>
                <option value="discord">Discord</option>
                <option value="line">LINE</option>
                <option value="other">ãã®ä»–</option>
              </select>
              <div class="error-message" id="contactMethodError">å¸Œæœ›é€£çµ¡æ–¹æ³•ã‚’é¸æŠã—ã¦ãã ã•ã„</div>
            </div>
          </div>
        </div>

        <!-- ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰å¯å¦ -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ“‚ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰ã«ã¤ã„ã¦ <span class="section-indicator">å¿…é ˆ</span></h3>
            
            <div class="form-group">
              <label>å®Œæˆä½œå“ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰ <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="portfolioConsent" value="allowed" checked>
                  <span class="radio-label">æ²è¼‰å¯<br><small>ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¨ã—ã¦æ²è¼‰ã‚’è¨±å¯</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="portfolioConsent" value="denied">
                  <span class="radio-label">æ²è¼‰ä¸å¯<br><small>Webã‚µã‚¤ãƒˆãƒ»Xãƒ»YouTubeç­‰ã§ã®æ²è¼‰ã‚’ç¦æ­¢</small></span>
                </label>
              </div>
              <div class="help-text">
                å®Œæˆã—ãŸMIXä½œå“ã‚’ã€å½“Webã‚µã‚¤ãƒˆã‚„ã€Xï¼ˆTwitterï¼‰ã€YouTubeç­‰ã®å‹•ç”»ã‚µã‚¤ãƒˆã«ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¨ã—ã¦æ²è¼‰ã™ã‚‹ã“ã¨ã®å¯å¦ã‚’ãŠé¸ã³ãã ã•ã„ã€‚
              </div>
            </div>
          </div>
        </div>

        <!-- æ¥½æ›²æƒ…å ± -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸµ æ¥½æ›²æƒ…å ± <span class="section-indicator">å¿…é ˆ</span></h3>
            
            <div class="form-row">
              <div class="form-group">
                <label for="songTitle">æ¥½æ›²ã‚¿ã‚¤ãƒˆãƒ« <span class="required">â€»å¿…é ˆ</span></label>
                <input type="text" id="songTitle" placeholder="ä¾‹ï¼šåƒæœ¬æ¡œã€æ®‹é…·ãªå¤©ä½¿ã®ãƒ†ãƒ¼ã‚¼ã€å¤œã«é§†ã‘ã‚‹" required>
                <div class="error-message" id="songTitleError">æ¥½æ›²ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
              </div>
              <div class="form-group">
                <label for="artist">ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ <span class="required">â€»å¿…é ˆ</span></label>
                <input type="text" id="artist" placeholder="ä¾‹ï¼šåˆéŸ³ãƒŸã‚¯ã€é«˜æ©‹æ´‹å­ã€YOASOBI" required>
                <div class="error-message" id="artistError">ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="sourceType">ä½¿ç”¨éŸ³æº <span class="required">â€»å¿…é ˆ</span></label>
                <select id="sourceType" required>
                  <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                  <option value="original-karaoke">å…¬å¼ã‚«ãƒ©ã‚ªã‚±éŸ³æº</option>
                  <option value="nicokaraoke">ãƒ‹ã‚³ã‚«ãƒ©ã‚ªã‚±</option>
                  <option value="youtube-karaoke">YouTube ã‚«ãƒ©ã‚ªã‚±</option>
                  <option value="instrumental">ã‚¤ãƒ³ã‚¹ãƒˆã‚¥ãƒ«ãƒ¡ãƒ³ã‚¿ãƒ«</option>
                  <option value="midi">MIDIãƒ»è‡ªä½œéŸ³æº</option>
                  <option value="other">ãã®ä»–</option>
                </select>
                <div class="error-message" id="sourceTypeError">ä½¿ç”¨éŸ³æºã‚’é¸æŠã—ã¦ãã ã•ã„</div>
              </div>
              <div class="form-group">
                <label for="bpm">BPM <span class="optional">ä»»æ„</span></label>
                <input type="number" id="bpm" placeholder="ä¾‹ï¼š120ã€140ã€90" min="60" max="200">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="songKey">ã‚­ãƒ¼ <span class="optional">ä»»æ„</span></label>
                <input type="text" id="songKey" placeholder="ä¾‹ï¼šCã€Gã€Amã€F#mã€åŸã‚­ãƒ¼">
              </div>
              <div class="form-group">
                <label for="vocalistCount">æ­Œå”±äººæ•° <span class="required">â€»å¿…é ˆ</span></label>
                <select id="vocalistCount" required>
                  <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                  <option value="1" selected>1äººï¼ˆã‚½ãƒ­ï¼‰</option>
                  <option value="2">2äººï¼ˆãƒ‡ãƒ¥ã‚¨ãƒƒãƒˆï¼‰</option>
                  <option value="3">3äºº</option>
                  <option value="4">4äºº</option>
                  <option value="5+">5äººä»¥ä¸Š</option>
                </select>
                <div class="error-message" id="vocalistCountError">æ­Œå”±äººæ•°ã‚’é¸æŠã—ã¦ãã ã•ã„</div>
              </div>
            </div>
          </div>
        </div>

        <!-- åˆ¶ä½œãƒ»ç´æœŸæƒ…å ± -->
        <div class="form-card">
          <div class="form-section">
            <h3>âš™ï¸ åˆ¶ä½œãƒ»ç´æœŸæƒ…å ± <span class="section-indicator">å¿…é ˆ</span></h3>
            
            <div class="form-group">
              <label>ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ©ãƒ³ <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="mainService" value="full" data-price="5000" checked>
                  <span class="radio-label">â­ ãƒ•ãƒ«ã‚³ãƒ¼ãƒ©ã‚¹ MIX<br><small>Â¥5,000ï¼ˆãƒãƒ¢ãƒª2ãƒˆãƒ©ãƒƒã‚¯è¾¼ã¿ï¼‰</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="mainService" value="one" data-price="3000">
                  <span class="radio-label">ãƒ¯ãƒ³ã‚³ãƒ¼ãƒ©ã‚¹ MIX<br><small>Â¥3,000ï¼ˆãƒãƒ¢ãƒª2ãƒˆãƒ©ãƒƒã‚¯è¾¼ã¿ï¼‰</small></span>
                </label>
                <label class="radio-item preparing-item">
                  <input type="radio" name="mainService" value="guide-single" disabled>
                  <span class="radio-label">ğŸ¤ ã‚¬ã‚¤ãƒ‰ãƒœãƒ¼ã‚«ãƒ«ä½œæˆï¼ˆå˜ä½“ï¼‰<br><small>æº–å‚™ä¸­</small></span>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label for="deadline">å¸Œæœ›ç´æœŸ <span class="required">â€»å¿…é ˆ</span></label>
              <select id="deadline" required>
                <option value="standard" selected>ç¾åœ¨ã®æ¨™æº–ç´æœŸï¼ˆ1ã‹æœˆå‰å¾Œï¼‰</option>
                <option value="consultation" style="color: var(--text-muted);" disabled>ãŠæ€¥ãå¯¾å¿œï¼ˆç¾åœ¨åœæ­¢ä¸­ï¼‰</option>
                <option value="specific" style="color: var(--text-muted);" disabled>ç‰¹å®šæ—¥æŒ‡å®šï¼ˆç¾åœ¨åœæ­¢ä¸­ï¼‰</option>
              </select>
              <div class="error-message" id="deadlineError">å¸Œæœ›ç´æœŸã‚’é¸æŠã—ã¦ãã ã•ã„</div>
              <div class="help-text" style="color: var(--warning); font-weight: 600;">
                â€»ä¾é ¼æ•°å¢—åŠ ã«ã‚ˆã‚Šç¾åœ¨1ã‹æœˆå‰å¾Œã®ãŠæ™‚é–“ã‚’ã„ãŸã ã„ã¦ãŠã‚Šã¾ã™
              </div>
            </div>
          </div>
        </div>

        <!-- éŒ²éŸ³éŸ³æºæƒ…å ± -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ¤ éŒ²éŸ³éŸ³æºæƒ…å ± <span class="section-indicator">é‡è¦</span></h3>
            
            <div style="background: #fff3cd; border: 2px solid var(--warning); border-radius: 12px; padding: 20px; margin-bottom: 25px;">
              <div style="color: var(--warning); font-weight: 600; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                <i class="fas fa-exclamation-triangle"></i>
                éŒ²éŸ³å‰ã®æ–¹ã¯å¿…ãšã”ç¢ºèªãã ã•ã„
              </div>
              <p style="margin: 0 0 15px 0; color: var(--warning); font-size: 0.9rem;">
                <strong>ã”ä¾é ¼ã®éš›ã¯ã€<a href="recording-guide.html" style="color: var(--warning); text-decoration: underline;">ğŸ“± éŒ²éŸ³æ–¹æ³•ã‚¬ã‚¤ãƒ‰</a>ã‚’å¿…ãšã”ç¢ºèªã®ä¸Šã”ä¾é ¼ãã ã•ã„ã€‚</strong><br>
                é©åˆ‡ãªéŒ²éŸ³æ–¹æ³•ã«ã‚ˆã‚Šã€MIXã®ä»•ä¸ŠãŒã‚ŠãŒå¤§ããå‘ä¸Šã—ã¾ã™ã€‚
              </p>
              
              <div class="form-group" style="margin-bottom: 0;">
                <label class="checkbox-item" style="background: white; border: 2px solid var(--warning); margin: 0;">
                  <input type="checkbox" id="recordingGuideConfirm" required>
                  <span style="font-weight: 600; color: var(--warning);">ğŸ“± éŒ²éŸ³æ–¹æ³•ã‚¬ã‚¤ãƒ‰ã‚’ç¢ºèªã—ã¾ã—ãŸ <span class="required">â€»å¿…é ˆ</span></span>
                </label>
                <div class="error-message" id="recordingGuideConfirmError">éŒ²éŸ³æ–¹æ³•ã‚¬ã‚¤ãƒ‰ã®ç¢ºèªãŒå¿…è¦ã§ã™</div>
              </div>
            </div>
            
            <div class="form-group">
              <label>éŒ²éŸ³çŠ¶æ³ <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="recordingStatus" value="recorded" checked>
                  <span class="radio-label">éŒ²éŸ³æ¸ˆã¿<br><small>éŸ³æºãƒ‡ãƒ¼ã‚¿ã‚’ãŠé€ã‚Šã§ãã¾ã™</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="recordingStatus" value="not-recorded">
                  <span class="radio-label">éŒ²éŸ³å‰<br><small>ã“ã‚Œã‹ã‚‰éŒ²éŸ³äºˆå®šã§ã™</small></span>
                </label>
              </div>
            </div>

            <div class="form-group" id="audioUrlSection">
              <label for="audioUrl">éŒ²éŸ³éŸ³æºURL <span class="required">â€»å¿…é ˆï¼ˆéŒ²éŸ³æ¸ˆã¿ã®å ´åˆï¼‰</span></label>
              <input type="url" id="audioUrl" placeholder="ä¾‹ï¼šhttps://gigafile.nu/ã€‡ã€‡ã€‡ã€https://drive.google.com/ã€‡ã€‡ã€‡">
              <div class="error-message" id="audioUrlError">éŸ³æºURLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
              <div class="help-text">
                ã‚®ã‚¬ãƒ•ã‚¡ã‚¤ãƒ«ä¾¿ã€Google Driveã€Dropboxç­‰ã®URLã‚’ã”å…¥åŠ›ãã ã•ã„<br>
                â€»ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ï¼šWAVã€AIFFã€MP3ç­‰ï¼ˆWAV/AIFFæ¨å¥¨ï¼‰<br>
                <strong><a href="recording-guide.html" style="color: var(--accent);">ğŸ“± éŒ²éŸ³æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„æ–¹ã¯ã“ã¡ã‚‰ã®ã‚¬ã‚¤ãƒ‰ã‚’ã”è¦§ãã ã•ã„</a></strong>
              </div>
            </div>

            <div class="form-group">
              <label for="recordingNotes">éŒ²éŸ³éŸ³æºã«ã¤ã„ã¦ã®è¿½è¨˜äº‹é … <span class="optional">ä»»æ„</span></label>
              <textarea id="recordingNotes" placeholder="ä¾‹ï¼š2åˆ†30ç§’ã‚ãŸã‚Šã§ãƒã‚¤ã‚ºãŒå…¥ã£ã¦ã—ã¾ã£ãŸã€ã‚µãƒ“éƒ¨åˆ†ã ã‘éŸ³é‡ãŒå°ã•ã„ã€è¤‡æ•°ãƒ†ã‚¤ã‚¯éŒ²éŸ³æ¸ˆã¿ï¼ˆAãƒ¡ãƒ­ãƒ»ã‚µãƒ“åˆ¥ã€…ï¼‰ã€éŒ²éŸ³æ™‚ã«ã‚¨ã‚¢ã‚³ãƒ³ã®éŸ³ãŒå°‘ã—å…¥ã£ã¦ã„ã‚‹ã€iPhone12ã§éŒ²éŸ³ãƒ»è·é›¢ç´„30cmã€ãƒ˜ãƒƒãƒ‰ãƒ›ãƒ³éŒ²éŸ³ã®ãŸã‚ãƒªãƒ¼ã‚¯ã‚ã‚Šã€ç‰¹å®šã®é«˜éŸ³éƒ¨åˆ†ã§éŸ³å‰²ã‚ŒãŒã‚ã‚‹ã€é–“å¥éƒ¨åˆ†ã§æ¯ç¶™ãã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒãšã‚ŒãŸ"></textarea>
              <div class="help-text">éŒ²éŸ³æ™‚ã®å•é¡Œç‚¹ã€ç’°å¢ƒã€ä½¿ç”¨æ©Ÿæã€æ°—ã«ãªã‚‹ç®‡æ‰€ãªã©ã€MIXæ™‚ã«æ³¨æ„ã—ã¦ã»ã—ã„ç‚¹ãŒã‚ã‚Œã°ã”è¨˜å…¥ãã ã•ã„</div>
            </div>
          </div>
        </div>

        <!-- å‚è€ƒéŸ³æº -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ§ å‚è€ƒéŸ³æº <span class="section-indicator">æ¨å¥¨</span></h3>
            
            <div class="form-group">
              <label for="refUrlFull">å‚è€ƒéŸ³æºURLï¼ˆå…¨ä½“ï¼‰ <span class="optional">ä»»æ„</span></label>
              <input type="url" id="refUrlFull" placeholder="ä¾‹ï¼šhttps://www.youtube.com/watch?v=abc123ï¼ˆç†æƒ³ã®ä»•ä¸ŠãŒã‚Šã«è¿‘ã„æ¥½æ›²ï¼‰">
              <div class="help-text">å…¨ä½“çš„ãªä»•ä¸ŠãŒã‚Šã®å‚è€ƒã«ã—ãŸã„æ¥½æ›²ã®URL</div>
            </div>

            <div class="form-group">
              <label for="refUrlPart">å‚è€ƒéŸ³æºURLï¼ˆéƒ¨åˆ†ï¼‰ <span class="optional">ä»»æ„</span></label>
              <input type="url" id="refUrlPart" placeholder="ä¾‹ï¼šhttps://youtu.be/def456?t=45ï¼ˆç‰¹å®šã®å‡¦ç†ã®å‚è€ƒï¼‰">
              <div class="help-text">ç‰¹å®šã®å‡¦ç†ï¼ˆãƒãƒ¢ãƒªã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãªã©ï¼‰ã®å‚è€ƒã«ã—ãŸã„éƒ¨åˆ†</div>
            </div>
          </div>
        </div>

        <!-- MIXè©³ç´°è¨­å®š -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ›ï¸ MIXè©³ç´°è¨­å®š <span class="section-indicator">é‡è¦</span></h3>
            
            <div class="form-group">
              <label>ãƒãƒ¢ãƒªéŸ³æº <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="harmonySource" value="none" checked>
                  <span class="radio-label">ãƒãƒ¢ãƒªãªã—<br><small>ãƒ¡ã‚¤ãƒ³ãƒœãƒ¼ã‚«ãƒ«ã®ã¿ã§MIXã‚’è¡Œã„ã¾ã™</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="harmonySource" value="available">
                  <span class="radio-label">éŸ³æºã‚ã‚Š<br><small>éŒ²éŸ³æ¸ˆã¿ã®ãƒãƒ¢ãƒªéŸ³æºãŒã‚ã‚Šã¾ã™</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="harmonySource" value="generate">
                  <span class="radio-label">éŸ³æºç„¡ã—ï¼ˆç”Ÿæˆå¸Œæœ›ï¼‰<br><small>åŸæ›²ã«è¿‘ã„å½¢ã§ãƒãƒ¢ãƒªã‚’ç”Ÿæˆ</small></span>
                </label>
              </div>
              <div class="form-group" id="harmonyGenerate" style="display: none; margin-top: 15px;">
                <label class="checkbox-item" style="background: #e3f2fd; border: 2px solid #1976d2;">
                  <input type="checkbox" id="harmonyAutoGenerate">
                  <span style="font-weight: 600; color: #1976d2;">åŸæ›²ã«è¿‘ã„å½¢ã§+3+5-3-5ï¼ˆã‚ªã‚¯ã‚¿ãƒ¼ãƒ–ä¸Š/ä¸‹ï¼‰ã‚’å¿…è¦ã«å¿œã˜ã¦ç”Ÿæˆ</span>
                </label>
                <div class="help-text" style="margin-top: 10px;">
                  æ¥½æ›²ã®é›°å›²æ°—ã«åˆã‚ã›ã¦ã€é©åˆ‡ãªãƒãƒ¢ãƒªï¼ˆ3åº¦ä¸Šã€5åº¦ä¸Šã€3åº¦ä¸‹ã€5åº¦ä¸‹ã€ã‚ªã‚¯ã‚¿ãƒ¼ãƒ–ä¸Šä¸‹ï¼‰ã‚’è‡ªå‹•ç”Ÿæˆã„ãŸã—ã¾ã™
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <label>ãƒ”ãƒƒãƒè£œæ­£ <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="pitchCorrection" value="complete">
                  <span class="radio-label">å®Œå…¨ã«æƒãˆã‚‹<br><small>æ©Ÿæ¢°çš„ã§ã‚‚æ­£ç¢ºã«</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="pitchCorrection" value="natural" checked>
                  <span class="radio-label">è‡ªç„¶ã«æƒãˆã‚‹<br><small>è‡ªç„¶ã•é‡è¦–</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="pitchCorrection" value="minimal">
                  <span class="radio-label">ã»ã¼åŸéŸ³ã®ã¾ã¾<br><small>æœ€å°é™ã®è£œæ­£</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="pitchCorrection" value="custom">
                  <span class="radio-label">ãã®ä»–<br><small>å…·ä½“çš„ã«æŒ‡å®š</small></span>
                </label>
              </div>
              <div class="form-group" id="pitchCustom" style="display: none; margin-top: 10px;">
                <input type="text" id="pitchCustomInput" placeholder="å…·ä½“çš„ãªãƒ”ãƒƒãƒè£œæ­£ã®æŒ‡ç¤ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
              </div>
            </div>

            <div class="form-group">
              <label>ã‚¿ã‚¤ãƒŸãƒ³ã‚°è£œæ­£ <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="timingCorrection" value="tight">
                  <span class="radio-label">ã—ã£ã‹ã‚Šæƒãˆã‚‹<br><small>ãƒªã‚ºãƒ é‡è¦–</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="timingCorrection" value="loose" checked>
                  <span class="radio-label">ã‚†ã‚‹ã‚ã«æƒãˆã‚‹<br><small>äººé–“ã‚‰ã—ã•é‡è¦–</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="timingCorrection" value="custom">
                  <span class="radio-label">ãã®ä»–<br><small>å…·ä½“çš„ã«æŒ‡å®š</small></span>
                </label>
              </div>
              <div class="form-group" id="timingCustom" style="display: none; margin-top: 10px;">
                <input type="text" id="timingCustomInput" placeholder="å…·ä½“çš„ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°è£œæ­£ã®æŒ‡ç¤ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
              </div>
            </div>

            <div class="form-group">
              <label>ãƒ–ãƒ¬ã‚¹å‡¦ç† <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="breathProcessing" value="remove">
                  <span class="radio-label">å‰Šé™¤<br><small>ã‚¯ãƒªãƒ¼ãƒ³ãªä»•ä¸ŠãŒã‚Š</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="breathProcessing" value="keep" checked>
                  <span class="radio-label">æ®‹ã™<br><small>è‡ªç„¶ãªä»•ä¸ŠãŒã‚Š</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="breathProcessing" value="custom">
                  <span class="radio-label">ãã®ä»–<br><small>éƒ¨åˆ†çš„ãªã©</small></span>
                </label>
              </div>
              <div class="form-group" id="breathCustom" style="display: none; margin-top: 10px;">
                <input type="text" id="breathCustomInput" placeholder="å…·ä½“çš„ãªãƒ–ãƒ¬ã‚¹å‡¦ç†ã®æŒ‡ç¤ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
              </div>
            </div>

            <div class="form-group">
              <label>ãƒ­ãƒ³ã‚°ãƒˆãƒ¼ãƒ³ã®å‡¦ç† <span class="required">â€»å¿…é ˆ</span></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="longTone" value="natural">
                  <span class="radio-label">è‡ªç„¶ãªé•·ã•<br><small>æ­Œå”±ãƒ‡ãƒ¼ã‚¿ã®é•·ã•é‡è¦–</small></span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="longTone" value="reference" checked>
                  <span class="radio-label">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«åˆã‚ã›ã‚‹<br><small>åŸæ›²ã®é•·ã•é‡è¦–</small></span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- ãƒãƒ¢ãƒªãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ¼ ãƒãƒ¢ãƒªãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ <span class="section-indicator">ä»»æ„</span></h3>
            
            <div class="form-group">
              <label for="harmonyDirection">ãƒãƒ¢ãƒªã®æ–¹å‘æ€§ <span class="optional">ä»»æ„</span></label>
              <textarea id="harmonyDirection" placeholder="ä¾‹ï¼šã€Œåƒæœ¬æ¡œã€ã‚µãƒ“ã®ã‚ˆã†ãªåšã‚ã®ãƒãƒ¢ãƒªã€ã€Œå¤œã«é§†ã‘ã‚‹ã€ã®é«˜éŸ³ãƒãƒ¢ãƒªé¢¨ã€3åº¦ä¸Šã¨5åº¦ä¸Šã®ãƒ€ãƒ–ãƒ«ãƒãƒ¢ãƒªã€æ§ãˆã‚ã§è‡ªç„¶ãªãƒãƒ¢ãƒª"></textarea>
              <div class="help-text">æ¥½æ›²ä¾‹ã‚„éŸ³æ¥½ç†è«–ã§ã®æŒ‡å®šãªã©ã€ãŠå¥½ã¿ã®æ–¹æ³•ã§ã”æŒ‡å®šãã ã•ã„</div>
            </div>

            <div class="form-group">
              <label for="effects">ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ <span class="optional">ä»»æ„</span></label>
              <textarea id="effects" placeholder="ä¾‹ï¼šã€Œãƒ­ã‚­ã€ã®ã‚ˆã†ãªãƒ‡ã‚£ã‚¹ãƒˆãƒ¼ã‚·ãƒ§ãƒ³ã€ã€Œæ€ªç‰©ã€ã®ã‚ˆã†ãªãƒ€ãƒ¼ã‚¯ãªãƒªãƒãƒ¼ãƒ–ã€çˆ½ã‚„ã‹ãªãƒ‡ã‚£ãƒ¬ã‚¤åŠ¹æœã€ãƒ“ãƒ³ãƒ†ãƒ¼ã‚¸æ„Ÿã®ã‚ã‚‹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ"></textarea>
              <div class="help-text">å‚è€ƒæ¥½æ›²ã‚„ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®ç¨®é¡ã§ã”æŒ‡å®šãã ã•ã„</div>
            </div>

            <div class="form-group">
              <label for="specialEffects">ç‰¹æ®Šæ¼”å‡º <span class="optional">ä»»æ„</span></label>
              <textarea id="specialEffects" placeholder="ä¾‹ï¼šé–“å¥ã§ãƒœãƒ¼ã‚«ãƒ«ãƒãƒ§ãƒƒãƒ—ã€ã‚µãƒ“å‰ã§ãƒ“ãƒ«ãƒ‰ã‚¢ãƒƒãƒ—ã€ã‚¢ã‚¦ãƒˆãƒ­ã§ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã€ç‰¹å®šç®‡æ‰€ã§ãƒœã‚³ãƒ¼ãƒ€ãƒ¼åŠ¹æœ"></textarea>
              <div class="help-text">æ¥½æ›²ã®ç‰¹å®šéƒ¨åˆ†ã§ã®æ¼”å‡ºåŠ¹æœã‚’ã”æŒ‡å®šãã ã•ã„</div>
            </div>
          </div>
        </div>

        <!-- è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸšï¸ è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ <span class="section-indicator">ä»»æ„</span></h3>
            
            <div class="checkbox-group">
              <label class="checkbox-item">
                <input type="checkbox" name="options" value="harmony" data-price="1000">
                <span>ãƒãƒ¢ãƒªè¿½åŠ ï¼ˆ3ãƒˆãƒ©ãƒƒã‚¯ç›®ã‹ã‚‰ï¼‰ (+Â¥1,000/ãƒˆãƒ©ãƒƒã‚¯)</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="options" value="encode" data-price="1000">
                <span>ğŸ¬ å‹•ç”»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ (+Â¥1,000)</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="options" value="collab" data-price="2000">
                <span>ğŸ‘¥ ã‚³ãƒ©ãƒœè¿½åŠ  
                  <select id="collabCount" style="margin-left: 8px; padding: 2px 6px; border-radius: 4px;">
                    <option value="1">1å (+Â¥2,000)</option>
                    <option value="2">2å (+Â¥4,000)</option>
                    <option value="3">3å (+Â¥6,000)</option>
                    <option value="4">4å (+Â¥8,000)</option>
                    <option value="5+">5åä»¥ä¸Š (è¦ç›¸è«‡)</option>
                  </select>
                </span>
              </label>
              <label class="checkbox-item preparing-item">
                <input type="checkbox" name="options" value="guide-with-mix" disabled>
                <span>ğŸ¤ ã‚¬ã‚¤ãƒ‰ãƒœãƒ¼ã‚«ãƒ«ä½œæˆï¼ˆMIXåŒæ™‚ä¾é ¼ï¼‰ (æº–å‚™ä¸­)</span>
              </label>
              <label class="checkbox-item preparing-item">
                <input type="checkbox" name="options" value="guide-pdf" disabled>
                <span>ğŸ“‘ ã‚¬ã‚¤ãƒ‰è­œ PDF (æº–å‚™ä¸­)</span>
              </label>
            </div>
            <div class="help-text">â€»åŸºæœ¬ãƒ—ãƒ©ãƒ³ã«ã¯ãƒãƒ¢ãƒª2ãƒˆãƒ©ãƒƒã‚¯ã¾ã§å«ã¾ã‚Œã¦ã„ã¾ã™</div>
          </div>
        </div>

        <!-- å‰²å¼•ãƒ»èª¿æ•´ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ’° å‰²å¼•ãƒ»èª¿æ•´ã‚ªãƒ—ã‚·ãƒ§ãƒ³ <span class="section-indicator">ä»»æ„</span></h3>
            
            <div class="checkbox-group">
              <label class="checkbox-item">
                <input type="checkbox" name="discounts" value="no-pitch" data-price="-1000">
                <span>ğŸ”ˆ ãƒ”ãƒƒãƒè£œæ­£ãªã— (-Â¥1,000)</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="discounts" value="repeater" data-price="-500">
                <span>ğŸ ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼å‰² (-Â¥500)</span>
              </label>
            </div>
            <div class="help-text">â€»ãƒ”ãƒƒãƒè£œæ­£ãªã—ã¯"æ‰‹ç›´ã—ä¸è¦"ãªãƒ†ã‚¤ã‚¯ã®ã¿å¯¾è±¡</div>
          </div>
        </div>

        <!-- ãã®ä»–è¦æœ› -->
        <div class="form-card">
          <div class="form-section">
            <h3>ğŸ“ ãã®ä»–è¦æœ› <span class="section-indicator">ä»»æ„</span></h3>
            
            <div class="form-group">
              <label for="additionalRequests">ãã®ä»–ã®ã”è¦æœ›ãƒ»ç‰¹è¨˜äº‹é …</label>
              <textarea id="additionalRequests" placeholder="ä¾‹ï¼šå£°ã®å°è±¡ã‚’å¯æ„›ã‚‰ã—ãä»•ä¸Šã’ãŸã„ã€ã‚¢ãƒ‹ã‚½ãƒ³ç³»ã®çˆ½ã‚„ã‹ãªä»•ä¸ŠãŒã‚Šå¸Œæœ›ã€éŒ²éŸ³æ™‚ã®ãƒã‚¤ã‚ºãŒæ°—ã«ãªã‚‹ç®‡æ‰€ãŒâ—‹åˆ†â—‹ç§’ã‚ãŸã‚Šã«ã‚ã‚Šã¾ã™ã€åˆã‚ã¦ã®ä¾é ¼ã§ä¸å®‰ãªã®ã§ä¸å¯§ã«ã‚µãƒãƒ¼ãƒˆã—ã¦ãã ã•ã„"></textarea>
            </div>

            <div class="form-group" style="margin-top: 25px;">
              <label class="checkbox-item" style="background: #f0e8f7; border: 2px solid var(--primary); margin: 0;">
                <input type="checkbox" id="optimalDirectionConsent" required>
                <span style="font-weight: 600; color: var(--primary-dark);">ä»»æ„ã®ã”è¦æœ›ãŒæœªè¨˜å…¥ã®å ´åˆã€ç§ã®åˆ¤æ–­ã§æœ€é©ãªæ–¹å‘ã§é€²ã‚ã¾ã™ <span class="required">â€»å¿…é ˆ</span></span>
              </label>
              <div class="error-message" id="optimalDirectionConsentError">åŒæ„ãŒå¿…è¦ã§ã™</div>
              <div class="help-text" style="margin-top: 8px;">
                ç‰¹åˆ¥ãªã”è¦æœ›ãŒãªã„å ´åˆã¯ã€æ¥½æ›²ã®ç‰¹æ€§ã¨éŒ²éŸ³çŠ¶æ³ã‚’è€ƒæ…®ã—ã¦ã€æœ€ã‚‚é©åˆ‡ãªMIXæ–¹å‘æ€§ã§ä»•ä¸Šã’ã•ã›ã¦ã„ãŸã ãã¾ã™
              </div>
            </div>
          </div>
        </div>

        <!-- æ–™é‡‘ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å‰Šé™¤ -->

        <button type="button" class="generate-btn" id="generateBtn">
          ğŸ“ DMç”¨æ–‡ç« ã‚’ç”Ÿæˆã™ã‚‹
        </button>

        <div id="generateStatus" style="display: none; margin-top: 15px; padding: 15px; border-radius: 8px; text-align: center; font-weight: 600;">
          <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        </div>

        <div style="margin-top: 20px; padding: 20px; background: #e3f2fd; border-radius: 12px; text-align: center;">
          <h4 style="color: #1976d2; margin-bottom: 10px;">
            <i class="fas fa-info-circle"></i>
            ç”Ÿæˆå¾Œã®æµã‚Œ
          </h4>
          <p style="margin: 0; color: #1976d2; font-size: 0.9rem; line-height: 1.5;">
            æ–‡ç« ç”Ÿæˆå¾Œã€ã‚³ãƒ”ãƒ¼ã—ã¦Xã®DMã¾ãŸã¯ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šãã ã•ã„ã€‚<br>
            24æ™‚é–“ä»¥å†…ã«ãŠè¦‹ç©ã‚‚ã‚Šã¨è©³ç´°ã‚’ã”è¿”ä¿¡ã„ãŸã—ã¾ã™ã€‚
          </p>
        </div>
      </form>

      <!-- ç”Ÿæˆçµæœ -->
      <div class="output-section" id="outputSection">
        <div class="output-card">
          <div class="output-header">
            <h3>âœ… DMç”¨æ–‡ç« ãŒå®Œæˆã—ã¾ã—ãŸï¼</h3>
            <p>ä¸‹è¨˜ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãŠå¥½ããªæ–¹æ³•ã§ã”é€£çµ¡ãã ã•ã„</p>
          </div>
          
          <div class="output-content">
            <div class="copy-area" id="dmText">
              <!-- ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« ãŒã“ã“ã«è¡¨ç¤º -->
            </div>
            <button class="copy-btn" id="copyBtn">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>

            <div class="contact-buttons">
              <a href="#" class="contact-btn primary" id="twitterBtn" target="_blank">
                ğŸ¦ Xã®DMã§é€ã‚‹
              </a>
              <a href="#" class="contact-btn" id="emailBtn">
                ğŸ“§ ãƒ¡ãƒ¼ãƒ«ã§é€ã‚‹
              </a>
              <a href="https://forms.gle/kko1grBVSAXcypLF8" class="contact-btn" target="_blank">
                ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ ã§é€ã‚‹
              </a>
            </div>

            <div style="margin-top: 30px; padding: 20px; background: var(--bg-secondary); border-radius: 12px; text-align: center;">
              <h4 style="color: var(--primary-dark); margin-bottom: 10px;">
                <i class="fas fa-lightbulb"></i>
                ãã®ä»–ã®ãŠå•ã„åˆã‚ã›æ–¹æ³•
              </h4>
              <p style="color: var(--text-light); margin-bottom: 15px;">
                ä¸Šè¨˜ä»¥å¤–ã«ã‚‚ã€ã‚³ã‚³ãƒŠãƒ©ãƒ»SKIMAã‹ã‚‰ã‚‚ã”ä¾é ¼ã„ãŸã ã‘ã¾ã™
              </p>
              <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="https://coconala.com/services/2323053" target="_blank" style="color: var(--primary); text-decoration: none;">
                  <i class="fas fa-shopping-cart"></i> ã‚³ã‚³ãƒŠãƒ©
                </a>
                <a href="https://skima.jp/item/detail?item_id=239311" target="_blank" style="color: var(--primary); text-decoration: none;">
                  <i class="fas fa-palette"></i> SKIMA
                </a>
                <a href="index.html" style="color: var(--primary); text-decoration: none;">
                  <i class="fas fa-home"></i> ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // DOMè¦ç´ ã®å–å¾—
    const form = document.getElementById('requestForm');
    const generateBtn = document.getElementById('generateBtn');
    const outputSection = document.getElementById('outputSection');
    const dmTextEl = document.getElementById('dmText');
    const copyBtn = document.getElementById('copyBtn');
    const twitterBtn = document.getElementById('twitterBtn');
    const emailBtn = document.getElementById('emailBtn');

    console.log('è¦ç´ å–å¾—ç¢ºèª:', {
      form: !!form,
      generateBtn: !!generateBtn,
      outputSection: !!outputSection,
      dmTextEl: !!dmTextEl
    });

    // é‡è¦ãªè¦ç´ ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤º
    if (!form || !generateBtn) {
      console.error('é‡è¦ãªDOMè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
      alert('ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚');
      return;
    }

    // ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨éŒ²éŸ³çŠ¶æ³ã®è¡¨ç¤ºåˆ¶å¾¡
    function setupFormControls() {
      document.addEventListener('change', function(e) {
        if (e.target.name === 'harmonySource') {
          const harmonyGenerate = document.getElementById('harmonyGenerate');
          if (harmonyGenerate) {
            harmonyGenerate.style.display = e.target.value === 'generate' ? 'block' : 'none';
          }
        }
        if (e.target.name === 'pitchCorrection') {
          const pitchCustom = document.getElementById('pitchCustom');
          if (pitchCustom) {
            pitchCustom.style.display = e.target.value === 'custom' ? 'block' : 'none';
          }
        }
        if (e.target.name === 'timingCorrection') {
          const timingCustom = document.getElementById('timingCustom');
          if (timingCustom) {
            timingCustom.style.display = e.target.value === 'custom' ? 'block' : 'none';
          }
        }
        if (e.target.name === 'breathProcessing') {
          const breathCustom = document.getElementById('breathCustom');
          if (breathCustom) {
            breathCustom.style.display = e.target.value === 'custom' ? 'block' : 'none';
          }
        }
        
        // éŒ²éŸ³çŠ¶æ³ã«ã‚ˆã‚‹éŸ³æºURLæ¬„ã®è¡¨ç¤ºåˆ¶å¾¡
        if (e.target.name === 'recordingStatus') {
          const audioUrlSection = document.getElementById('audioUrlSection');
          const audioUrlInput = document.getElementById('audioUrl');
          
          if (audioUrlSection && audioUrlInput) {
            if (e.target.value === 'recorded') {
              audioUrlSection.style.display = 'block';
              audioUrlInput.required = true;
            } else {
              audioUrlSection.style.display = 'none';
              audioUrlInput.required = false;
              audioUrlInput.value = '';
            }
          }
        }
      });
    }

    // æ–‡ç« ç”Ÿæˆé–¢æ•°
    function generateDMText() {
      console.log('DMæ–‡ç« ç”Ÿæˆé–‹å§‹');
      
      try {
        const formData = {
          clientName: document.getElementById('clientName')?.value?.trim() || '',
          clientContact: document.getElementById('clientContact')?.value?.trim() || '',
          contactMethod: document.getElementById('contactMethod')?.value || '',
          portfolioConsent: document.querySelector('input[name="portfolioConsent"]:checked')?.value || '',
          songTitle: document.getElementById('songTitle')?.value?.trim() || '',
          artist: document.getElementById('artist')?.value?.trim() || '',
          sourceType: document.getElementById('sourceType')?.value || '',
          bpm: document.getElementById('bpm')?.value || '',
          songKey: document.getElementById('songKey')?.value?.trim() || '',
          vocalistCount: document.getElementById('vocalistCount')?.value || '',
          mainService: document.querySelector('input[name="mainService"]:checked:not([disabled])')?.value || '',
          deadline: document.getElementById('deadline')?.value || '',
          recordingStatus: document.querySelector('input[name="recordingStatus"]:checked')?.value || '',
          audioUrl: document.getElementById('audioUrl')?.value?.trim() || '',
          recordingNotes: document.getElementById('recordingNotes')?.value?.trim() || '',
          refUrlFull: document.getElementById('refUrlFull')?.value?.trim() || '',
          refUrlPart: document.getElementById('refUrlPart')?.value?.trim() || '',
          pitchCorrection: document.querySelector('input[name="pitchCorrection"]:checked')?.value || '',
          pitchCustom: document.getElementById('pitchCustomInput')?.value?.trim() || '',
          harmonySource: document.querySelector('input[name="harmonySource"]:checked')?.value || '',
          harmonyAutoGenerate: document.getElementById('harmonyAutoGenerate')?.checked || false,
          timingCorrection: document.querySelector('input[name="timingCorrection"]:checked')?.value || '',
          timingCustom: document.getElementById('timingCustomInput')?.value?.trim() || '',
          breathProcessing: document.querySelector('input[name="breathProcessing"]:checked')?.value || '',
          breathCustom: document.getElementById('breathCustomInput')?.value?.trim() || '',
          longTone: document.querySelector('input[name="longTone"]:checked')?.value || '',
          harmonyDirection: document.getElementById('harmonyDirection')?.value?.trim() || '',
          effects: document.getElementById('effects')?.value?.trim() || '',
          specialEffects: document.getElementById('specialEffects')?.value?.trim() || '',
          additionalRequests: document.getElementById('additionalRequests')?.value?.trim() || '',
          optimalDirectionConsent: document.getElementById('optimalDirectionConsent')?.checked || false,
          recordingGuideConfirm: document.getElementById('recordingGuideConfirm')?.checked || false
        };

        console.log('ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº†:', formData);

        let dmText = 'ã“ã‚“ã«ã¡ã¯ï¼Ryuzan Mix Salonã®ä»¶ã§ã”é€£çµ¡ã„ãŸã—ã¾ã™â˜ºï¸\n\n';

        // ä¾é ¼è€…æƒ…å ±
        dmText += 'ã€ä¾é ¼è€…æƒ…å ±ã€‘\n';
        dmText += `ãŠåå‰ï¼š${formData.clientName || 'æœªå…¥åŠ›'}\n`;
        dmText += `é€£çµ¡å…ˆï¼š${formData.clientContact || 'æœªå…¥åŠ›'}\n`;
        
        const contactMethods = {
          'twitter': 'Xï¼ˆTwitterï¼‰DM',
          'email': 'ãƒ¡ãƒ¼ãƒ«',
          'discord': 'Discord',
          'line': 'LINE',
          'other': 'ãã®ä»–'
        };
        dmText += `å¸Œæœ›é€£çµ¡æ–¹æ³•ï¼š${contactMethods[formData.contactMethod] || 'æœªé¸æŠ'}\n`;
        
        const portfolioConsents = {
          'allowed': 'æ²è¼‰å¯ï¼ˆãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¨ã—ã¦ä½¿ç”¨è¨±å¯ï¼‰',
          'denied': 'æ²è¼‰ä¸å¯ï¼ˆãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¨ã—ã¦ä½¿ç”¨ç¦æ­¢ï¼‰'
        };
        dmText += `ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰ï¼š${portfolioConsents[formData.portfolioConsent] || 'æœªé¸æŠ'}\n\n`;

        // æ¥½æ›²æƒ…å ±
        dmText += 'ã€æ¥½æ›²æƒ…å ±ã€‘\n';
        dmText += `æ¥½æ›²ã‚¿ã‚¤ãƒˆãƒ«ï¼š${formData.songTitle || 'æœªå…¥åŠ›'}\n`;
        dmText += `ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆï¼š${formData.artist || 'æœªå…¥åŠ›'}\n`;
        
        const sourceTypes = {
          'original-karaoke': 'å…¬å¼ã‚«ãƒ©ã‚ªã‚±éŸ³æº',
          'nicokaraoke': 'ãƒ‹ã‚³ã‚«ãƒ©ã‚ªã‚±',
          'youtube-karaoke': 'YouTube ã‚«ãƒ©ã‚ªã‚±',
          'instrumental': 'ã‚¤ãƒ³ã‚¹ãƒˆã‚¥ãƒ«ãƒ¡ãƒ³ã‚¿ãƒ«',
          'midi': 'MIDIãƒ»è‡ªä½œéŸ³æº',
          'other': 'ãã®ä»–'
        };
        dmText += `ä½¿ç”¨éŸ³æºï¼š${sourceTypes[formData.sourceType] || 'æœªé¸æŠ'}\n`;

        dmText += `BPMï¼š${formData.bpm || 'æœªå…¥åŠ›'}\n`;
        dmText += `ã‚­ãƒ¼ï¼š${formData.songKey || 'æœªå…¥åŠ›'}\n`;

        const vocalistCounts = {
          '1': '1äººï¼ˆã‚½ãƒ­ï¼‰',
          '2': '2äººï¼ˆãƒ‡ãƒ¥ã‚¨ãƒƒãƒˆï¼‰',
          '3': '3äºº',
          '4': '4äºº',
          '5+': '5äººä»¥ä¸Š'
        };
        dmText += `æ­Œå”±äººæ•°ï¼š${vocalistCounts[formData.vocalistCount] || 'æœªé¸æŠ'}\n\n`;

        // ã”å¸Œæœ›ãƒ—ãƒ©ãƒ³
        dmText += 'ã€ã”å¸Œæœ›ãƒ—ãƒ©ãƒ³ã€‘\n';
        const mainServices = {
          'full': 'ãƒ•ãƒ«ã‚³ãƒ¼ãƒ©ã‚¹ MIXï¼ˆÂ¥5,000ï¼‰',
          'one': 'ãƒ¯ãƒ³ã‚³ãƒ¼ãƒ©ã‚¹ MIXï¼ˆÂ¥3,000ï¼‰'
        };
        dmText += `ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ©ãƒ³ï¼š${mainServices[formData.mainService] || 'æœªé¸æŠ'}\n`;

        // è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³
        const selectedOptions = document.querySelectorAll('input[name="options"]:checked:not([disabled])');
        if (selectedOptions.length > 0) {
          dmText += 'è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼š';
          const optionTexts = [];
          selectedOptions.forEach(option => {
            if (option.value === 'collab') {
              const collabCount = document.getElementById('collabCount')?.value || '1';
              if (collabCount === '5+') {
                optionTexts.push('ã‚³ãƒ©ãƒœè¿½åŠ ï¼ˆ5åä»¥ä¸Šãƒ»è¦ç›¸è«‡ï¼‰');
              } else {
                optionTexts.push(`ã‚³ãƒ©ãƒœè¿½åŠ ï¼ˆ${collabCount}åï¼‰`);
              }
            } else {
              const optionNames = {
                'harmony': 'ãƒãƒ¢ãƒªè¿½åŠ ',
                'encode': 'å‹•ç”»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰',
                'guide-with-mix': 'ã‚¬ã‚¤ãƒ‰ãƒœãƒ¼ã‚«ãƒ«ä½œæˆ',
                'guide-pdf': 'ã‚¬ã‚¤ãƒ‰è­œPDF'
              };
              optionTexts.push(optionNames[option.value] || option.value);
            }
          });
          dmText += optionTexts.join('ã€') + '\n';
        } else {
          dmText += 'è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šãªã—\n';
        }

        // å‰²å¼•
        const selectedDiscounts = document.querySelectorAll('input[name="discounts"]:checked');
        if (selectedDiscounts.length > 0) {
          dmText += 'å‰²å¼•ï¼š';
          const discountTexts = [];
          selectedDiscounts.forEach(discount => {
            const discountNames = {
              'no-pitch': 'ãƒ”ãƒƒãƒè£œæ­£ãªã—',
              'repeater': 'ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼å‰²'
            };
            discountTexts.push(discountNames[discount.value] || discount.value);
          });
          dmText += discountTexts.join('ã€') + '\n';
        } else {
          dmText += 'å‰²å¼•ï¼šãªã—\n';
        }

        dmText += '\n';

        // ç´æœŸ
        dmText += 'ã€ç´æœŸã€‘\n';
        const deadlines = {
          'standard': 'æ¨™æº–ç´æœŸï¼ˆ1ã‹æœˆå‰å¾Œï¼‰',
          'consultation': 'ãŠæ€¥ãå¯¾å¿œå¸Œæœ›ï¼ˆè¦ç›¸è«‡ï¼‰',
          'specific': 'ç‰¹å®šæ—¥æŒ‡å®šï¼ˆè¦ç›¸è«‡ï¼‰'
        };
        dmText += `å¸Œæœ›ç´æœŸï¼š${deadlines[formData.deadline] || 'æœªé¸æŠ'}\n\n`;

        // éŒ²éŸ³éŸ³æºã«ã¤ã„ã¦
        dmText += 'ã€éŒ²éŸ³éŸ³æºã«ã¤ã„ã¦ã€‘\n';
        dmText += `éŒ²éŸ³ã‚¬ã‚¤ãƒ‰ç¢ºèªï¼š${formData.recordingGuideConfirm ? 'ç¢ºèªæ¸ˆã¿' : 'æœªç¢ºèª'}\n`;
        
        const recordingStatuses = {
          'recorded': 'éŒ²éŸ³æ¸ˆã¿',
          'not-recorded': 'ã“ã‚Œã‹ã‚‰éŒ²éŸ³äºˆå®š'
        };
        dmText += `éŒ²éŸ³çŠ¶æ³ï¼š${recordingStatuses[formData.recordingStatus] || 'æœªé¸æŠ'}\n`;
        
        if (formData.recordingStatus === 'recorded') {
          dmText += `éŸ³æºURLï¼š${formData.audioUrl || 'æœªå…¥åŠ›'}\n`;
        }
        dmText += `éŒ²éŸ³ã«ã¤ã„ã¦ã®è¿½è¨˜ï¼š${formData.recordingNotes || 'ãªã—'}\n\n`;

        // å‚è€ƒéŸ³æº
        dmText += 'ã€å‚è€ƒéŸ³æºã€‘\n';
        dmText += `å…¨ä½“å‚è€ƒURLï¼š${formData.refUrlFull || 'ãªã—'}\n`;
        dmText += `éƒ¨åˆ†å‚è€ƒURLï¼š${formData.refUrlPart || 'ãªã—'}\n\n`;

        // MIXè©³ç´°è¨­å®š
        dmText += 'ã€MIXè©³ç´°è¨­å®šã€‘\n';
        
        const harmonySources = {
          'none': 'ãƒãƒ¢ãƒªãªã—ï¼ˆãƒ¡ã‚¤ãƒ³ãƒœãƒ¼ã‚«ãƒ«ã®ã¿ï¼‰',
          'available': 'éŸ³æºã‚ã‚Šï¼ˆéŒ²éŸ³æ¸ˆã¿ï¼‰',
          'generate': `éŸ³æºç„¡ã—ï¼ˆç”Ÿæˆå¸Œæœ›${formData.harmonyAutoGenerate ? 'ãƒ»è‡ªå‹•ãƒãƒ¢ãƒªç”Ÿæˆ' : ''}ï¼‰`
        };
        dmText += `ãƒãƒ¢ãƒªéŸ³æºï¼š${harmonySources[formData.harmonySource] || 'æœªé¸æŠ'}\n`;
        
        const pitchCorrections = {
          'complete': 'å®Œå…¨ã«æƒãˆã‚‹',
          'natural': 'è‡ªç„¶ã«æƒãˆã‚‹',
          'minimal': 'ã»ã¼åŸéŸ³ã®ã¾ã¾',
          'custom': `ãã®ä»–ï¼ˆ${formData.pitchCustom || 'è©³ç´°æœªå…¥åŠ›'}ï¼‰`
        };
        dmText += `ãƒ”ãƒƒãƒè£œæ­£ï¼š${pitchCorrections[formData.pitchCorrection] || 'æœªé¸æŠ'}\n`;

        const timingCorrections = {
          'tight': 'ã—ã£ã‹ã‚Šæƒãˆã‚‹',
          'loose': 'ã‚†ã‚‹ã‚ã«æƒãˆã‚‹',
          'custom': `ãã®ä»–ï¼ˆ${formData.timingCustom || 'è©³ç´°æœªå…¥åŠ›'}ï¼‰`
        };
        dmText += `ã‚¿ã‚¤ãƒŸãƒ³ã‚°è£œæ­£ï¼š${timingCorrections[formData.timingCorrection] || 'æœªé¸æŠ'}\n`;

        const breathProcessings = {
          'remove': 'å‰Šé™¤',
          'keep': 'æ®‹ã™',
          'custom': `ãã®ä»–ï¼ˆ${formData.breathCustom || 'è©³ç´°æœªå…¥åŠ›'}ï¼‰`
        };
        dmText += `ãƒ–ãƒ¬ã‚¹å‡¦ç†ï¼š${breathProcessings[formData.breathProcessing] || 'æœªé¸æŠ'}\n`;

        const longTones = {
          'natural': 'è‡ªç„¶ãªé•·ã•',
          'reference': 'ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«åˆã‚ã›ã‚‹'
        };
        dmText += `ãƒ­ãƒ³ã‚°ãƒˆãƒ¼ãƒ³å‡¦ç†ï¼š${longTones[formData.longTone] || 'æœªé¸æŠ'}\n\n`;

        // ãƒãƒ¢ãƒªãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        dmText += 'ã€ãƒãƒ¢ãƒªãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã€‘\n';
        dmText += `ãƒãƒ¢ãƒªã®æ–¹å‘æ€§ï¼š${formData.harmonyDirection || 'ãªã—'}\n`;
        dmText += `ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼š${formData.effects || 'ãªã—'}\n`;
        dmText += `ç‰¹æ®Šæ¼”å‡ºï¼š${formData.specialEffects || 'ãªã—'}\n\n`;

        // ãã®ä»–è¦æœ›
        dmText += 'ã€ãã®ä»–ã”è¦æœ›ã€‘\n';
        dmText += `${formData.additionalRequests || 'ãªã—'}\n`;
        dmText += `æœ€é©ãªæ–¹å‘ã§ã®é€²è¡ŒåŒæ„ï¼š${formData.optimalDirectionConsent ? 'åŒæ„æ¸ˆã¿' : 'æœªåŒæ„'}\n\n`;

        // ãŠæ”¯æ‰•ã„æ–¹æ³•
        dmText += 'ã€ãŠæ”¯æ‰•ã„æ–¹æ³•ã€‘\n';
        dmText += 'PayPayï¼ˆæ¨å¥¨ï¼‰ã€Amazonã‚®ãƒ•ãƒˆã‚«ãƒ¼ãƒ‰\n';
        dmText += 'â€»ãã®ä»–ã®æ”¯æ‰•ã„æ–¹æ³•ã¯æº–å‚™ä¸­ã§ã™\n\n';

        dmText += 'ä½•ã‹ã”ä¸æ˜ãªç‚¹ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠå£°ãŒã‘ãã ã•ã„ã€‚\n';
        dmText += 'ã©ã†ãã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™â˜ºï¸';

        console.log('DMæ–‡ç« ç”Ÿæˆå®Œäº†');
        return dmText;

      } catch (error) {
        console.error('DMæ–‡ç« ç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);
        throw error;
      }
    }

    // ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®è¨­å®š
    function setupGenerateButton() {
      console.log('ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®šé–‹å§‹');
      
      if (!generateBtn) {
        console.error('generateBtnãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
        return;
      }

      generateBtn.addEventListener('click', function() {
        console.log('ğŸ”¥ DMç”Ÿæˆãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼');
        
        try {
          // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’å¤‰æ›´ï¼ˆå‡¦ç†ä¸­è¡¨ç¤ºï¼‰
          const originalText = generateBtn.textContent;
          generateBtn.disabled = true;
          generateBtn.textContent = 'â³ å‡¦ç†ä¸­...';
          generateBtn.style.background = '#999999';
          
          // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
          const statusEl = document.getElementById('generateStatus');
          if (statusEl) {
            statusEl.style.display = 'block';
            statusEl.style.background = '#e3f2fd';
            statusEl.style.color = '#1976d2';
            statusEl.textContent = 'ğŸ“ DMæ–‡ç« ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™...';
          }

          setTimeout(() => {
            try {
              // æ–‡ç« ç”Ÿæˆã‚’å®Ÿè¡Œ
              const dmText = generateDMText();
              
              if (dmTextEl) {
                dmTextEl.textContent = dmText;
              }
              
              if (outputSection) {
                outputSection.classList.add('show');
                outputSection.scrollIntoView({ behavior: 'smooth' });
              }

              // URLã‚’ç”Ÿæˆï¼ˆé•·ã•åˆ¶é™å¯¾å¿œï¼‰
              const encodedText = encodeURIComponent(dmText);
              
              // Twitter DMã®URLé•·ã•åˆ¶é™ãƒã‚§ãƒƒã‚¯ï¼ˆç´„2000æ–‡å­—ç¨‹åº¦ï¼‰
              const twitterUrl = `https://x.com/messages/compose?recipient_id=ryuzanmix&text=${encodedText}`;
              const emailUrl = `mailto:ryuzan.mix@gmail.com?subject=MIXä¾é ¼ã®ã”ç›¸è«‡&body=${encodedText}`;
              
              if (twitterBtn) {
                if (twitterUrl.length > 2000) {
                  twitterBtn.href = `https://x.com/messages/compose?recipient_id=ryuzanmix`;
                  twitterBtn.title = 'ä¾é ¼æ–‡ãŒé•·ã„ãŸã‚ã€ã‚³ãƒ”ãƒ¼ã—ã¦DMã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„';
                } else {
                  twitterBtn.href = twitterUrl;
                  twitterBtn.title = '';
                }
              }
              
              if (emailBtn) {
                if (emailUrl.length > 2000) {
                  emailBtn.href = `mailto:ryuzan.mix@gmail.com?subject=MIXä¾é ¼ã®ã”ç›¸è«‡`;
                  emailBtn.title = 'ä¾é ¼æ–‡ãŒé•·ã„ãŸã‚ã€ã‚³ãƒ”ãƒ¼ã—ã¦ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„';
                } else {
                  emailBtn.href = emailUrl;
                  emailBtn.title = '';
                }
              }
              
              // æˆåŠŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
              if (statusEl) {
                statusEl.style.background = '#e8f5e8';
                statusEl.style.color = '#4caf50';
                statusEl.textContent = 'ğŸ‰ DMæ–‡ç« ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã”ç¢ºèªãã ã•ã„';
              }
              
              // ãƒœã‚¿ãƒ³çŠ¶æ…‹ã‚’å…ƒã«æˆ»ã™
              generateBtn.disabled = false;
              generateBtn.textContent = originalText;
              generateBtn.style.background = '';
              
              // 3ç§’å¾Œã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’éè¡¨ç¤º
              if (statusEl) {
                setTimeout(() => {
                  statusEl.style.display = 'none';
                }, 3000);
              }
              
            } catch (error) {
              console.error('æ–‡ç« ç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);
              
              // ãƒœã‚¿ãƒ³çŠ¶æ…‹ã‚’å…ƒã«æˆ»ã™
              generateBtn.disabled = false;
              generateBtn.textContent = originalText;
              generateBtn.style.background = '';
              
              // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚’ã‚¨ãƒ©ãƒ¼ã«å¤‰æ›´
              if (statusEl) {
                statusEl.style.background = '#ffebee';
                statusEl.style.color = '#f44336';
                statusEl.textContent = 'âŒ æ–‡ç« ç”Ÿæˆã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';
              }
              
              alert('âŒ æ–‡ç« ç”Ÿæˆæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\n\nãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
              
              // 5ç§’å¾Œã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’éè¡¨ç¤º
              if (statusEl) {
                setTimeout(() => {
                  statusEl.style.display = 'none';
                }, 5000);
              }
            }
          }, 100);
          
        } catch (error) {
          console.error('ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¨ãƒ©ãƒ¼:', error);
          alert('ãƒœã‚¿ãƒ³ã®å‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');
        }
      });

      console.log('ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®šå®Œäº†');
    }

    // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®è¨­å®š
    function setupCopyButton() {
      if (!copyBtn) return;

      copyBtn.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(dmTextEl.textContent);
          copyBtn.textContent = 'âœ… ã‚³ãƒ”ãƒ¼å®Œäº†ï¼';
          copyBtn.classList.add('copied');
          setTimeout(() => {
            copyBtn.textContent = 'ğŸ“‹ ã‚³ãƒ”ãƒ¼';
            copyBtn.classList.remove('copied');
          }, 2000);
        } catch (err) {
          // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
          const textArea = document.createElement('textarea');
          textArea.value = dmTextEl.textContent;
          document.body.appendChild(textArea);
          textArea.select();
          document.execCommand('copy');
          document.body.removeChild(textArea);
          
          copyBtn.textContent = 'âœ… ã‚³ãƒ”ãƒ¼å®Œäº†ï¼';
          copyBtn.classList.add('copied');
          setTimeout(() => {
            copyBtn.textContent = 'ğŸ“‹ ã‚³ãƒ”ãƒ¼';
            copyBtn.classList.remove('copied');
          }, 2000);
        }
      });
    }

    // åˆæœŸåŒ–é–¢æ•°
    function initializeForm() {
      console.log('ãƒ•ã‚©ãƒ¼ãƒ åˆæœŸåŒ–é–‹å§‹');
      
      try {
        // ãƒœã‚¿ãƒ³ã‚’å¸¸ã«æœ‰åŠ¹ã«è¨­å®š
        if (generateBtn) {
          generateBtn.disabled = false;
          console.log('ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã—ãŸ');
        }
        
        // åˆæœŸçŠ¶æ…‹ã§ã®éŒ²éŸ³çŠ¶æ³è¡¨ç¤ºåˆ¶å¾¡
        const initialRecordingStatus = document.querySelector('input[name="recordingStatus"]:checked');
        const audioUrlSection = document.getElementById('audioUrlSection');
        const audioUrlInput = document.getElementById('audioUrl');
        
        if (initialRecordingStatus && audioUrlSection && audioUrlInput) {
          if (initialRecordingStatus.value === 'not-recorded') {
            audioUrlSection.style.display = 'none';
            audioUrlInput.required = false;
          }
        }

        // åˆæœŸçŠ¶æ…‹ã§ã®ãƒãƒ¢ãƒªéŸ³æºè¡¨ç¤ºåˆ¶å¾¡
        const initialHarmonySource = document.querySelector('input[name="harmonySource"]:checked');
        const harmonyGenerateSection = document.getElementById('harmonyGenerate');
        
        if (initialHarmonySource && harmonyGenerateSection) {
          if (initialHarmonySource.value !== 'generate') {
            harmonyGenerateSection.style.display = 'none';
          }
        }

        console.log('ãƒ•ã‚©ãƒ¼ãƒ åˆæœŸåŒ–å®Œäº†');
      } catch (error) {
        console.error('åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);
      }
    }

    // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚’é˜²ã
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        console.log('ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãŒé˜²ãŒã‚Œã¾ã—ãŸ');
        if (generateBtn && !generateBtn.disabled) {
          generateBtn.click();
        }
      });
    }

    // Enterã‚­ãƒ¼ã§ã®é€ä¿¡é˜²æ­¢
    if (form) {
      form.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && e.target.type !== 'textarea') {
          e.preventDefault();
          if (generateBtn && !generateBtn.disabled) {
            generateBtn.click();
          }
        }
      });
    }

    // ã™ã¹ã¦ã®åˆæœŸåŒ–ã‚’å®Ÿè¡Œ
    console.log('åˆæœŸåŒ–å‡¦ç†é–‹å§‹');
    setupFormControls();
    setupGenerateButton();
    setupCopyButton();
    initializeForm();
    
    // DOMContentLoadedæ™‚ã®è¿½åŠ åˆæœŸåŒ–
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        console.log('DOMContentLoaded - è¿½åŠ åˆæœŸåŒ–');
        initializeForm();
        if (generateBtn) {
          generateBtn.disabled = false;
        }
      });
    } else {
      console.log('DOM already loaded - å³åº§ã«åˆæœŸåŒ–');
      initializeForm();
      if (generateBtn) {
        generateBtn.disabled = false;
      }
    }

    console.log('ğŸš€ å…¨ã¦ã®åˆæœŸåŒ–å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸ');
  </script>

  <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "è©³ç´°ä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ  - Ryuzan Mix Salon",
    "description": "è©³ç´°ãªè¨­å®šã§ä¾é ¼æ–‡ç« ã‚’è‡ªå‹•ç”Ÿæˆï¼ãƒ—ãƒ­ä»•æ§˜ã®æ­Œã£ã¦ã¿ãŸMIXä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ ã€‚",
    "url": "https://ryuzanmix.github.io/request-form.html",
    "isPartOf": {
      "@type": "WebSite",
      "name": "Ryuzan Mix Salon",
      "url": "https://ryuzanmix.github.io/"
    },
    "about": {
      "@type": "Service",
      "name": "æ­Œã£ã¦ã¿ãŸMIXã‚µãƒ¼ãƒ“ã‚¹",
      "provider": {
        "@type": "Organization",
        "name": "Ryuzan Mix Salon"
      }
    }
  }
  </script>
</body>
</html>