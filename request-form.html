<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Á∞°Âçò‰æùÈ†º„Éï„Ç©„Éº„É† - Ryuzan Mix Salon</title>
  <meta content="ÈÅ∏„Å∂„Å†„Åë„Åß‰æùÈ†ºÊñáÁ´†„ÇíËá™ÂãïÁîüÊàêÔºÅRyuzan Mix Salon„ÅÆÁ∞°Âçò‰æùÈ†º„Éï„Ç©„Éº„É†„ÄÇÂàùÂøÉËÄÖ„ÇÇÂÆâÂøÉ„ÅÆÊ≠å„Å£„Å¶„Åø„ÅüMIX‰æùÈ†º„ÄÇ" name="description"/>
  <meta content="Ê≠å„Å£„Å¶„Åø„Åü,MIX,‰æùÈ†º,„Éï„Ç©„Éº„É†,VTuber,„Éú„Ç´„É≠,Á∞°Âçò,Ëá™ÂãïÁîüÊàê,DM" name="keywords">
  
  <!-- „Éï„Ç°„Éì„Ç≥„É≥ -->
  <link href="favicon256.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="favicon256.png" rel="icon" sizes="192x192" type="image/png"/>
  <link href="favicon256.png" rel="apple-touch-icon"/>
  
  <!-- SEO -->
  <link href="https://ryuzanmix.github.io/request-form.html" rel="canonical"/>
  <meta content="index,follow" name="robots"/>
  
  <!-- Â§ñÈÉ®„É™„ÇΩ„Éº„Çπ -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet"/>
  
  <!-- OGP -->
  <meta content="website" property="og:type"/>
  <meta content="https://ryuzanmix.github.io/request-form.html" property="og:url"/>
  <meta content="Á∞°Âçò‰æùÈ†º„Éï„Ç©„Éº„É† - Ryuzan Mix Salon" property="og:title"/>
  <meta content="ÈÅ∏„Å∂„Å†„Åë„Åß‰æùÈ†ºÊñáÁ´†„ÇíËá™ÂãïÁîüÊàêÔºÅÂàùÂøÉËÄÖ„ÇÇÂÆâÂøÉ„ÅÆÊ≠å„Å£„Å¶„Åø„ÅüMIX‰æùÈ†º„Éï„Ç©„Éº„É†„ÄÇ" property="og:description"/>
  <meta content="https://ryuzanmix.github.io/og-image.png" property="og:image"/>

  <style>
    :root{
      --primary: #b28fdd;
      --primary-dark: #9f79d2;
      --primary-light: #d4c4e8;
      --secondary: #ffd6e8;
      --accent: #ff6b9d;
      --bg: #fdfafc;
      --bg-secondary: #f8f5fa;
      --card: #ffffff;
      --text: #2c2c2c;
      --text-light: #666666;
      --text-muted: #999999;
      --border: #e8e0f0;
      --shadow: 0 4px 20px rgba(178, 143, 221, 0.15);
      --success: #4caf50;
      --warning: #ff9800;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans JP', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 30px;
      background: var(--card);
      border-radius: 20px;
      box-shadow: var(--shadow);
      position: relative;
    }

    .back-link {
      position: absolute;
      top: 20px;
      left: 20px;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: color 0.3s ease;
    }

    .back-link:hover {
      color: var(--primary-dark);
    }

    .header h1 {
      color: var(--primary-dark);
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .header p {
      color: var(--text-light);
      font-size: 1.1rem;
    }

    .form-card {
      background: var(--card);
      padding: 30px;
      border-radius: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }

    .form-section {
      margin-bottom: 30px;
    }

    .form-section h3 {
      color: var(--primary-dark);
      font-size: 1.2rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text);
    }

    .required {
      color: var(--accent);
      font-size: 0.9rem;
    }

    .optional {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    input[type="text"], input[type="url"], select, textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
      background: white;
    }

    input[type="text"]:focus, input[type="url"]:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px;
      background: var(--bg-secondary);
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .checkbox-item:hover {
      background: var(--primary-light);
    }

    .checkbox-item input[type="checkbox"] {
      width: auto;
      margin: 0;
    }

    .radio-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .radio-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: var(--bg-secondary);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .radio-item:hover {
      background: var(--primary-light);
    }

    .radio-item input[type="radio"]:checked + .radio-label {
      color: var(--primary-dark);
      font-weight: 600;
    }

    .radio-item:has(input[type="radio"]:checked) {
      background: var(--primary-light);
      border-color: var(--primary);
    }

    .radio-item input[type="radio"] {
      width: auto;
      margin: 0;
    }

    .help-text {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-top: 5px;
    }

    .price-preview {
      background: var(--bg-secondary);
      border: 2px solid var(--primary);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }

    .price-preview h4 {
      color: var(--primary-dark);
      margin-bottom: 10px;
    }

    .price-amount {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
    }

    .generate-btn {
      width: 100%;
      background: var(--primary);
      color: white;
      border: none;
      padding: 16px 24px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
    }

    .generate-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .generate-btn:disabled {
      background: var(--text-muted);
      cursor: not-allowed;
      transform: none;
    }

    .output-section {
      display: none;
      margin-top: 30px;
    }

    .output-section.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .output-card {
      background: var(--card);
      border: 2px solid var(--success);
      border-radius: 20px;
      overflow: hidden;
    }

    .output-header {
      background: var(--success);
      color: white;
      padding: 20px;
      text-align: center;
    }

    .output-content {
      padding: 30px;
    }

    .copy-area {
      background: #f8f8f8;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      font-family: monospace;
      font-size: 0.95rem;
      line-height: 1.6;
      white-space: pre-wrap;
      margin: 20px 0;
      position: relative;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .copy-btn:hover {
      background: var(--primary-dark);
    }

    .copy-btn.copied {
      background: var(--success);
    }

    .contact-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .contact-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      border: 2px solid var(--primary);
      background: white;
      color: var(--primary);
    }

    .contact-btn:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }

    .contact-btn.primary {
      background: var(--primary);
      color: white;
    }

    .contact-btn.primary:hover {
      background: var(--primary-dark);
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .form-card {
        padding: 20px;
      }
      
      .checkbox-group, .radio-group {
        grid-template-columns: 1fr;
      }
      
      .price-amount {
        font-size: 1.5rem;
      }

      .back-link {
        position: static;
        margin-bottom: 20px;
        justify-content: center;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <a href="index.html" class="back-link">
        <i class="fas fa-arrow-left"></i>
        „É°„Ç§„É≥„Éö„Éº„Ç∏„Å´Êàª„Çã
      </a>
      <h1>üéµ Á∞°Âçò‰æùÈ†º„Éï„Ç©„Éº„É†</h1>
      <p>ÂøÖË¶ÅÊúÄÂ∞èÈôê„ÅÆÈ†ÖÁõÆ„ÇíÈÅ∏„Å∂„Å†„Åë„Åß„ÄÅDMÁî®„ÅÆÊñáÁ´†„ÇíËá™ÂãïÁîüÊàê„Åó„Åæ„ÅôÔºÅ</p>
    </div>

    <form id="requestForm">
      <!-- Âü∫Êú¨ÊÉÖÂ†± -->
      <div class="form-card">
        <div class="form-section">
          <h3>üìù Âü∫Êú¨ÊÉÖÂ†±</h3>
          
          <div class="form-group">
            <label for="songTitle">Ê•ΩÊõ≤„Çø„Ç§„Éà„É´ <span class="required">‚ÄªÂøÖÈ†à</span></label>
            <input type="text" id="songTitle" placeholder="‰æãÔºöÂçÉÊú¨Ê°ú„ÄÅÊÆãÈÖ∑„Å™Â§©‰Ωø„ÅÆ„ÉÜ„Éº„Çº">
          </div>

          <div class="form-group">
            <label for="songUrl">ÂéüÊõ≤„ÅÆURL <span class="optional">‰ªªÊÑè</span></label>
            <input type="url" id="songUrl" placeholder="https://www.youtube.com/watch?v=...">
            <div class="help-text">YouTube„Å™„Å©„ÅÆÂéüÊõ≤„É™„É≥„ÇØ„Åå„ÅÇ„Çã„Å®„ÄÅ„Çà„ÇäÊ≠£Á¢∫„Å´MIX„Åß„Åç„Åæ„Åô</div>
          </div>
        </div>
      </div>

      <!-- „É°„Ç§„É≥„Éó„É©„É≥ -->
      <div class="form-card">
        <div class="form-section">
          <h3>üéµ „É°„Ç§„É≥„Éó„É©„É≥</h3>
          
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="mainService" value="full" data-price="5000" checked>
              <span class="radio-label">‚≠ê „Éï„É´„Ç≥„Éº„É©„Çπ MIX<br><small>¬•5,000</small></span>
            </label>
            <label class="radio-item">
              <input type="radio" name="mainService" value="one" data-price="3000">
              <span class="radio-label">„ÉØ„É≥„Ç≥„Éº„É©„Çπ MIX<br><small>¬•3,000</small></span>
            </label>
            <label class="radio-item">
              <input type="radio" name="mainService" value="guide-single" data-price="5000">
              <span class="radio-label">üé§ ‰ªÆÊ≠å‰ΩúÊàêÔºàÂçò‰ΩìÔºâ<br><small>¬•5,000</small></span>
            </label>
            <label class="radio-item">
              <input type="radio" name="mainService" value="advice" data-price="2000">
              <span class="radio-label">üéì Ê≠åÂî±„Ç¢„Éâ„Éê„Ç§„Çπ<br><small>¬•2,000</small></span>
            </label>
            <label class="radio-item">
              <input type="radio" name="mainService" value="consultation" data-price="0">
              <span class="radio-label">„Åæ„Åö„ÅØÁõ∏Ë´á<br><small>ÁÑ°Êñô</small></span>
            </label>
          </div>
        </div>
      </div>

      <!-- ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥ -->
      <div class="form-card">
        <div class="form-section">
          <h3>üéöÔ∏è ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥ <span class="optional">‰ªªÊÑè</span></h3>
          
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="options" value="harmony" data-price="1000">
              <span>„Éè„É¢„É™ËøΩÂä†„ÉªÁîüÊàêÔºà1„Éà„É©„ÉÉ„ÇØÔºâ (+¬•1,000)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="options" value="encode" data-price="1000">
              <span>üé¨ ÂãïÁîª„Ç®„É≥„Ç≥„Éº„Éâ (+¬•1,000)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="options" value="collab" data-price="2000">
              <span>üë• „Ç≥„É©„ÉúËøΩÂä† 
                <select id="collabCount" style="margin-left: 8px; padding: 2px 6px; border-radius: 4px;">
                  <option value="1">1Âêç (+¬•2,000)</option>
                  <option value="2">2Âêç (+¬•4,000)</option>
                  <option value="3">3Âêç (+¬•6,000)</option>
                  <option value="4">4Âêç (+¬•8,000)</option>
                  <option value="5+">5Âêç‰ª•‰∏ä (Ë¶ÅÁõ∏Ë´á)</option>
                </select>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="options" value="guide-with-mix" data-price="3000">
              <span>üé§ ‰ªÆÊ≠å‰ΩúÊàêÔºàMIXÂêåÊôÇ‰æùÈ†ºÔºâ (+¬•3,000)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="options" value="guide-pdf" data-price="500">
              <span>üìë „Ç¨„Ç§„ÉâË≠ú PDF (+¬•500)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="options" value="rush" data-price="1000">
              <span>‚è∞ „ÅäÊÄ•„ÅéÂØæÂøúÔºà1ÈÄ±ÈñìÔºâ (+¬•1,000)</span>
            </label>
          </div>
        </div>
      </div>

      <!-- Ââ≤Âºï„ÉªË™øÊï¥„Ç™„Éó„Ç∑„Éß„É≥ -->
      <div class="form-card">
        <div class="form-section">
          <h3>üí∞ Ââ≤Âºï„ÉªË™øÊï¥„Ç™„Éó„Ç∑„Éß„É≥ <span class="optional">‰ªªÊÑè</span></h3>
          
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" name="discounts" value="no-pitch" data-price="-1000">
              <span>üîà „Éî„ÉÉ„ÉÅË£úÊ≠£„Å™„Åó (-¬•1,000)</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" name="discounts" value="repeater" data-price="-500">
              <span>üéÅ „É™„Éî„Éº„Çø„ÉºÂâ≤ (-¬•500) <small>ÂàùÂõûÁÑ°ÊñôMIX„Åß„ÇÇOK</small></span>
            </label>
          </div>
          <div class="help-text">‚Äª„Éî„ÉÉ„ÉÅË£úÊ≠£„Å™„Åó„ÅØ"ÊâãÁõ¥„Åó‰∏çË¶Å"„Å™„ÉÜ„Ç§„ÇØ„ÅÆ„ÅøÂØæË±°</div>
        </div>
      </div>

      <!-- „Åù„ÅÆ‰ªñÊÉÖÂ†± -->
      <div class="form-card">
        <div class="form-section">
          <h3>üîß „Åù„ÅÆ‰ªñ„ÅÆÊÉÖÂ†± <span class="optional">‰ªªÊÑè</span></h3>
          
          <div class="form-group">
            <label for="equipment">Èå≤Èü≥Áí∞Â¢É</label>
            <select id="equipment">
              <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
              <option value="smartphone">„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥</option>
              <option value="headset">„Éò„ÉÉ„Éâ„Çª„ÉÉ„Éà</option>
              <option value="usb-mic">USB„Éû„Ç§„ÇØ</option>
              <option value="audio-interface">„Ç™„Éº„Éá„Ç£„Ç™„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ</option>
              <option value="unknown">„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ</option>
            </select>
          </div>

          <div class="form-group">
            <label for="requests">MIX„ÅÆ„ÅîË¶ÅÊúõ„ÉªÂèÇËÄÉÈü≥Ê∫ê„Å™„Å©</label>
            <textarea id="requests" placeholder="‰æãÔºöÂ£∞„ÇíÂèØÊÑõ„Çâ„Åó„Åè‰ªï‰∏ä„Åí„Åü„ÅÑ„ÄÅ‚óã‚óã„Åï„Çì„ÅÆÊ≠å„Å£„Å¶„Åø„Åü„ÅÆ„Çà„ÅÜ„Å™ÊÑü„Åò„Åß„ÄÅ„Å™„Å©"></textarea>
          </div>

          <div class="form-group">
            <label for="concerns">‰∏çÂÆâ„Å™ÁÇπ„ÉªÁõ∏Ë´á„Åó„Åü„ÅÑ„Åì„Å®</label>
            <textarea id="concerns" placeholder="‰æãÔºöÈå≤Èü≥„Å´Â§±Êïó„Åå„ÅÇ„Çã„ÄÅÂàù„ÇÅ„Å¶„Åß‰Ωï„ÇÇ„Çè„Åã„Çâ„Å™„ÅÑ„ÄÅ‰∫àÁÆó„Å´„Å§„ÅÑ„Å¶Áõ∏Ë´á„Åó„Åü„ÅÑ„ÄÅ„Å™„Å©"></textarea>
          </div>
        </div>
      </div>

      <!-- ÊñôÈáë„Éó„É¨„Éì„É•„Éº -->
      <div class="price-preview">
        <h4>üìä „ÅäË¶ãÁ©ç„ÇÇ„Çä</h4>
        <div class="price-amount" id="totalPrice">¬•0</div>
        <div class="help-text" id="priceBreakdown"></div>
      </div>

      <button type="button" class="generate-btn" id="generateBtn">
        üìù DMÁî®ÊñáÁ´†„ÇíÁîüÊàê„Åô„Çã
      </button>
    </form>

    <!-- ÁîüÊàêÁµêÊûú -->
    <div class="output-section" id="outputSection">
      <div class="output-card">
        <div class="output-header">
          <h3>‚úÖ DMÁî®ÊñáÁ´†„ÅåÂÆåÊàê„Åó„Åæ„Åó„ÅüÔºÅ</h3>
          <p>‰∏ãË®ò„Çí„Ç≥„Éî„Éº„Åó„Å¶„ÄÅ„ÅäÂ•Ω„Åç„Å™ÊñπÊ≥ï„Åß„ÅîÈÄ£Áµ°„Åè„Å†„Åï„ÅÑ</p>
        </div>
        
        <div class="output-content">
          <div class="copy-area" id="dmText">
            <!-- ÁîüÊàê„Åï„Çå„ÅüÊñáÁ´†„Åå„Åì„Åì„Å´Ë°®Á§∫ -->
          </div>
          <button class="copy-btn" id="copyBtn">üìã „Ç≥„Éî„Éº</button>

          <div class="contact-buttons">
            <a href="#" class="contact-btn primary" id="twitterBtn" target="_blank">
              üê¶ X„ÅÆDM„ÅßÈÄÅ„Çã
            </a>
            <a href="#" class="contact-btn" id="emailBtn">
              üìß „É°„Éº„É´„ÅßÈÄÅ„Çã
            </a>
            <a href="https://forms.gle/kko1grBVSAXcypLF8" class="contact-btn" target="_blank">
              üìù „Éï„Ç©„Éº„É†„ÅßÈÄÅ„Çã
            </a>
          </div>

          <div style="margin-top: 30px; padding: 20px; background: var(--bg-secondary); border-radius: 12px; text-align: center;">
            <h4 style="color: var(--primary-dark); margin-bottom: 10px;">
              <i class="fas fa-lightbulb"></i>
              „Åù„ÅÆ‰ªñ„ÅÆ„ÅäÂïè„ÅÑÂêà„Çè„ÅõÊñπÊ≥ï
            </h4>
            <p style="color: var(--text-light); margin-bottom: 15px;">
              ‰∏äË®ò‰ª•Â§ñ„Å´„ÇÇ„ÄÅ„Ç≥„Ç≥„Éä„É©„ÉªSKIMA„Åã„Çâ„ÇÇ„Åî‰æùÈ†º„ÅÑ„Åü„Å†„Åë„Åæ„Åô
            </p>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
              <a href="https://coconala.com/services/2323053" target="_blank" style="color: var(--primary); text-decoration: none;">
                <i class="fas fa-shopping-cart"></i> „Ç≥„Ç≥„Éä„É©
              </a>
              <a href="https://skima.jp/item/detail?item_id=239311" target="_blank" style="color: var(--primary); text-decoration: none;">
                <i class="fas fa-palette"></i> SKIMA
              </a>
              <a href="index.html" style="color: var(--primary); text-decoration: none;">
                <i class="fas fa-home"></i> „É°„Ç§„É≥„Éö„Éº„Ç∏
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById('requestForm');
    const totalPriceEl = document.getElementById('totalPrice');
    const priceBreakdownEl = document.getElementById('priceBreakdown');
    const generateBtn = document.getElementById('generateBtn');
    const outputSection = document.getElementById('outputSection');
    const dmTextEl = document.getElementById('dmText');
    const copyBtn = document.getElementById('copyBtn');
    const twitterBtn = document.getElementById('twitterBtn');
    const emailBtn = document.getElementById('emailBtn');

    // ÊñôÈáëË®àÁÆó
    function calculatePrice() {
      let total = 0;
      let breakdown = [];

      // „É°„Ç§„É≥„Çµ„Éº„Éì„Çπ
      const mainService = document.querySelector('input[name="mainService"]:checked');
      if (mainService) {
        const price = parseInt(mainService.dataset.price);
        total += price;
        if (price > 0) {
          breakdown.push(`${mainService.parentElement.querySelector('.radio-label').textContent.split('¬•')[0]} ¬•${price.toLocaleString()}`);
        }
      }

      // ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥
      const options = document.querySelectorAll('input[name="options"]:checked');
      options.forEach(option => {
        let price = parseInt(option.dataset.price);
        let optionText = option.parentElement.textContent.trim();
        
        // „Ç≥„É©„ÉúËøΩÂä†„ÅÆÂ†¥Âêà„ÄÅ‰∫∫Êï∞„Å´Âøú„Åò„Å¶‰æ°Ê†ºË™øÊï¥
        if (option.value === 'collab') {
          const collabCount = document.getElementById('collabCount').value;
          if (collabCount === '5+') {
            optionText = 'üë• „Ç≥„É©„ÉúËøΩÂä† 5Âêç‰ª•‰∏ä (Ë¶ÅÁõ∏Ë´á)';
            price = 0; // Ë¶ÅÁõ∏Ë´á„Å™„ÅÆ„Åß0ÂÜÜË°®Á§∫
          } else {
            const count = parseInt(collabCount);
            price = count * 2000;
            optionText = `üë• „Ç≥„É©„ÉúËøΩÂä† ${count}Âêç (+¬•${price.toLocaleString()})`;
          }
        }
        
        total += price;
        if (price > 0) {
          breakdown.push(optionText);
        } else if (option.value === 'collab' && collabCount === '5+') {
          breakdown.push(optionText);
        }
      });

      // Ââ≤Âºï
      const discounts = document.querySelectorAll('input[name="discounts"]:checked');
      discounts.forEach(discount => {
        const price = parseInt(discount.dataset.price);
        total += price; // „Éû„Ç§„Éä„ÇπÂÄ§„Å™„ÅÆ„ÅßÂä†ÁÆó
        breakdown.push(`${discount.parentElement.textContent.trim()}`);
      });

      // ÊúÄ‰ΩéÈáëÈ°ç„ÅØ0ÂÜÜ
      total = Math.max(0, total);

      totalPriceEl.textContent = total > 0 ? `¬•${total.toLocaleString()}` : 'ÁÑ°ÊñôÁõ∏Ë´á';
      priceBreakdownEl.textContent = breakdown.length > 0 ? breakdown.join(' + ') : '„Åæ„Åö„ÅØ„ÅäÊ∞óËªΩ„Å´„ÅîÁõ∏Ë´á„Åè„Å†„Åï„ÅÑ';

      // „Éú„Çø„É≥„ÅÆÊúâÂäπ/ÁÑ°Âäπ
      const songTitle = document.getElementById('songTitle').value.trim();
      generateBtn.disabled = !songTitle && mainService.value !== 'consultation';
    }

    // ÊñáÁ´†ÁîüÊàê
    function generateDMText() {
      const songTitle = document.getElementById('songTitle').value.trim();
      const songUrl = document.getElementById('songUrl').value.trim();
      const mainService = document.querySelector('input[name="mainService"]:checked');
      const options = Array.from(document.querySelectorAll('input[name="options"]:checked'));
      const equipment = document.getElementById('equipment').value;
      const requests = document.getElementById('requests').value.trim();
      const concerns = document.getElementById('concerns').value.trim();

      let text = '';

      // Êå®Êã∂
      text += '„Åì„Çì„Å´„Å°„ÅØÔºÅRyuzan Mix Salon„ÅÆ‰ª∂„Åß„ÅîÈÄ£Áµ°„ÅÑ„Åü„Åó„Åæ„Åô‚ò∫Ô∏è\n\n';

      // „Çµ„Éº„Éì„ÇπÁ®ÆÂà•„Å´Âøú„Åò„ÅüÊñáÁ´†
      if (mainService.value === 'consultation') {
        text += '„Äê„ÅîÁõ∏Ë´áÂÜÖÂÆπ„Äë\n';
        text += 'MIX„Å´„Å§„ÅÑ„Å¶Áõ∏Ë´á„Åó„Åü„ÅÑ„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n\n';
        
        if (songTitle) {
          text += `Ê•ΩÊõ≤Ôºö${songTitle}\n`;
        }
        if (concerns) {
          text += `Áõ∏Ë´áÂÜÖÂÆπÔºö${concerns}\n`;
        } else {
          text += 'Áõ∏Ë´áÂÜÖÂÆπÔºöÂàù„ÇÅ„Å¶„ÅÆMIX‰æùÈ†º„Åß„ÄÅ‰Ωï„Åã„ÇâÂßã„ÇÅ„Çå„Å∞„Çà„ÅÑ„Åã„Çè„Åã„Çâ„Å™„ÅÑ„Åü„ÇÅ„ÄÅË©≥„Åó„ÅèÊïô„Åà„Å¶„ÅÑ„Åü„Å†„Åç„Åü„ÅÑ„Åß„Åô„ÄÇ\n';
        }
      } else {
        text += '„Äê‰æùÈ†ºÂÜÖÂÆπ„Äë\n';
        text += `Ê•ΩÊõ≤„Çø„Ç§„Éà„É´Ôºö${songTitle}\n`;
        
        if (songUrl) {
          text += `ÂéüÊõ≤URLÔºö${songUrl}\n`;
        }
        
        // „Çµ„Éº„Éì„ÇπÂÜÖÂÆπ
        const serviceMap = {
          'full': '‚≠ê „Éï„É´„Ç≥„Éº„É©„Çπ MIX',
          'one': '„ÉØ„É≥„Ç≥„Éº„É©„Çπ MIX',
          'guide-single': 'üé§ ‰ªÆÊ≠å‰ΩúÊàêÔºàÂçò‰ΩìÔºâ',
          'advice': 'üéì Ê≠åÂî±„Ç¢„Éâ„Éê„Ç§„Çπ'
        };
        text += `„ÅîÂ∏åÊúõ„Çµ„Éº„Éì„ÇπÔºö${serviceMap[mainService.value]}\n`;

        // ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥
        if (options.length > 0) {
          text += 'ËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥Ôºö';
          const optionTexts = [];
          
          options.forEach(opt => {
            const optionMap = {
              'harmony': '„Éè„É¢„É™ËøΩÂä†„ÉªÁîüÊàê',
              'encode': 'üé¨ ÂãïÁîª„Ç®„É≥„Ç≥„Éº„Éâ',
              'collab': 'üë• „Ç≥„É©„ÉúËøΩÂä†',
              'guide-with-mix': 'üé§ ‰ªÆÊ≠å‰ΩúÊàêÔºàMIXÂêåÊôÇ‰æùÈ†ºÔºâ',
              'guide-pdf': 'üìë „Ç¨„Ç§„ÉâË≠ú PDF',
              'rush': '‚è∞ „ÅäÊÄ•„ÅéÂØæÂøú'
            };
            
            if (opt.value === 'collab') {
              const collabCount = document.getElementById('collabCount').value;
              optionTexts.push(`üë• „Ç≥„É©„ÉúËøΩÂä†Ôºà${collabCount}ÂêçÔºâ`);
            } else {
              optionTexts.push(optionMap[opt.value]);
            }
          });
          
          text += optionTexts.join('„ÄÅ') + '\n';
        }

        // Ââ≤Âºï„ÉªË™øÊï¥„Ç™„Éó„Ç∑„Éß„É≥
        const discounts = Array.from(document.querySelectorAll('input[name="discounts"]:checked'));
        if (discounts.length > 0) {
          text += 'Ââ≤Âºï„ÉªË™øÊï¥Ôºö';
          const discountMap = {
            'no-pitch': 'üîà „Éî„ÉÉ„ÉÅË£úÊ≠£„Å™„Åó',
            'repeater': 'üéÅ „É™„Éî„Éº„Çø„ÉºÂâ≤'
          };
          text += discounts.map(disc => discountMap[disc.value]).join('„ÄÅ') + '\n';
        }

        if (equipment) {
          const equipmentMap = {
            'smartphone': '„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥',
            'headset': '„Éò„ÉÉ„Éâ„Çª„ÉÉ„Éà',
            'usb-mic': 'USB„Éû„Ç§„ÇØ',
            'audio-interface': '„Ç™„Éº„Éá„Ç£„Ç™„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ',
            'unknown': '„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ'
          };
          text += `Èå≤Èü≥Áí∞Â¢ÉÔºö${equipmentMap[equipment]}\n`;
        }

        if (requests) {
          text += `MIX„ÅÆ„ÅîË¶ÅÊúõÔºö${requests}\n`;
        }

        if (concerns) {
          text += `‰∏çÂÆâ„Å™ÁÇπÔºö${concerns}\n`;
        }
      }

      text += '\n';

      // Á∑†„ÇÅ„ÅÆÊñáÁ´†
      if (mainService.value === 'consultation') {
        text += '„ÅäÊôÇÈñì„ÅÆ„ÅÇ„Çã„Å®„Åç„Å´„ÄÅË©≥„Åó„ÅèÊïô„Åà„Å¶„ÅÑ„Åü„Å†„Åë„Çã„Å®Â¨â„Åó„ÅÑ„Åß„Åô„ÄÇ\n';
      } else {
        text += 'Èå≤Èü≥„Éá„Éº„Çø„ÅÆ„ÅîÊèêÂá∫ÊñπÊ≥ï„ÇÑË©≥Á¥∞„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅ„ÅäËøî‰∫ã„Çí„ÅÑ„Åü„Å†„ÅÑ„Å¶„Åã„Çâ„ÅîÊ°àÂÜÖ„ÅÑ„Åü„Å†„Åë„Çå„Å∞„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n';
      }
      
      text += '„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åôüå∏';

      return text;
    }

    // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
    form.addEventListener('change', calculatePrice);
    form.addEventListener('input', calculatePrice);

    // „Ç≥„É©„Éú‰∫∫Êï∞ÈÅ∏ÊäûÊôÇ„ÅÆ‰æ°Ê†ºÊõ¥Êñ∞
    document.getElementById('collabCount').addEventListener('change', calculatePrice);

    // „Çµ„Éº„Éì„ÇπÈÅ∏ÊäûÊôÇ„ÅÆÂà∂Âæ°
    document.addEventListener('change', function(e) {
      if (e.target.name === 'mainService') {
        const serviceValue = e.target.value;
        
        // ÂêÑ„Ç™„Éó„Ç∑„Éß„É≥„ÅÆË¶ÅÁ¥†„ÇíÂèñÂæó
        const harmonyCheckbox = document.querySelector('input[value="harmony"]');
        const collabCheckbox = document.querySelector('input[value="collab"]');
        const noPitchCheckbox = document.querySelector('input[value="no-pitch"]');
        const guideWithMixCheckbox = document.querySelector('input[value="guide-with-mix"]');
        const allOptions = document.querySelectorAll('input[name="options"]');
        const allDiscounts = document.querySelectorAll('input[name="discounts"]');

        // ÂÖ®„Å¶ÊúâÂäπÂåñÔºà„Éá„Éï„Ç©„É´„ÉàÔºâ
        allOptions.forEach(option => {
          option.disabled = false;
          option.closest('.checkbox-item').style.opacity = '1';
        });
        allDiscounts.forEach(discount => {
          discount.disabled = false;
          discount.closest('.checkbox-item').style.opacity = '1';
        });

        // „Çµ„Éº„Éì„ÇπÂà•Âà∂Âæ°
        switch(serviceValue) {
          case 'consultation':
            // „Åæ„Åö„ÅØÁõ∏Ë´áÔºöËøΩÂä†„Ç™„Éó„Ç∑„Éß„É≥„ÉªÂâ≤ÂºïË™øÊï¥„ÇíÂÖ®„Å¶ÁÑ°ÂäπÂåñ
            allOptions.forEach(option => {
              option.disabled = true;
              option.checked = false;
              option.closest('.checkbox-item').style.opacity = '0.5';
            });
            allDiscounts.forEach(discount => {
              discount.disabled = true;
              discount.checked = false;
              discount.closest('.checkbox-item').style.opacity = '0.5';
            });
            break;

          case 'guide-single':
            // ‰ªÆÊ≠å‰ΩúÊàêÔºàÂçò‰ΩìÔºâÔºö„Éè„É¢„É™ËøΩÂä†„Éª„Ç≥„É©„ÉúËøΩÂä†„Éª‰ªÆÊ≠å‰ΩúÊàêÔºàMIXÂêåÊôÇ‰æùÈ†ºÔºâ„ÇíÁÑ°ÂäπÂåñ
            [harmonyCheckbox, collabCheckbox, guideWithMixCheckbox].forEach(checkbox => {
              if (checkbox) {
                checkbox.disabled = true;
                checkbox.checked = false;
                checkbox.closest('.checkbox-item').style.opacity = '0.5';
              }
            });
            break;

          case 'advice':
            // Ê≠åÂî±„Ç¢„Éâ„Éê„Ç§„ÇπÔºö„Éè„É¢„É™ËøΩÂä†„Éª„Ç≥„É©„ÉúËøΩÂä†„ÇíÁÑ°ÂäπÂåñ
            [harmonyCheckbox, collabCheckbox].forEach(checkbox => {
              if (checkbox) {
                checkbox.disabled = true;
                checkbox.checked = false;
                checkbox.closest('.checkbox-item').style.opacity = '0.5';
              }
            });
            break;

          default:
            // „Éï„É´„Ç≥„Éº„É©„Çπ„Éª„ÉØ„É≥„Ç≥„Éº„É©„ÇπÔºöÂà∂Âæ°„Å™„Åó
            break;
        }
        
        calculatePrice();
      }
    });

    generateBtn.addEventListener('click', () => {
      const dmText = generateDMText();
      dmTextEl.textContent = dmText;
      outputSection.classList.add('show');
      outputSection.scrollIntoView({ behavior: 'smooth' });

      // URL„ÇíÁîüÊàê
      const encodedText = encodeURIComponent(dmText);
      twitterBtn.href = `https://x.com/messages/compose?recipient_id=ryuzanmix&text=${encodedText}`;
      emailBtn.href = `mailto:ryuzan.mix@gmail.com?subject=MIX‰æùÈ†º„ÅÆ„ÅîÁõ∏Ë´á&body=${encodedText}`;
    });

    copyBtn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(dmTextEl.textContent);
        copyBtn.textContent = '‚úÖ „Ç≥„Éî„ÉºÂÆå‰∫ÜÔºÅ';
        copyBtn.classList.add('copied');
        setTimeout(() => {
          copyBtn.textContent = 'üìã „Ç≥„Éî„Éº';
          copyBtn.classList.remove('copied');
        }, 2000);
      } catch (err) {
        // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
        const textArea = document.createElement('textarea');
        textArea.value = dmTextEl.textContent;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        
        copyBtn.textContent = '‚úÖ „Ç≥„Éî„ÉºÂÆå‰∫ÜÔºÅ';
        copyBtn.classList.add('copied');
        setTimeout(() => {
          copyBtn.textContent = 'üìã „Ç≥„Éî„Éº';
          copyBtn.classList.remove('copied');
        }, 2000);
      }
    });

    // ÂàùÊúüË®àÁÆó
    calculatePrice();

    // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆ„Ç¢„Éä„É™„ÉÜ„Ç£„ÇØ„ÇπÔºàÂøÖË¶Å„Å´Âøú„Åò„Å¶Ôºâ
    if (typeof gtag !== 'undefined') {
      gtag('event', 'page_view', {
        'page_title': 'Á∞°Âçò‰æùÈ†º„Éï„Ç©„Éº„É†',
        'page_location': window.location.href
      });
    }
  </script>

  <!-- ÊßãÈÄ†Âåñ„Éá„Éº„Çø -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Á∞°Âçò‰æùÈ†º„Éï„Ç©„Éº„É† - Ryuzan Mix Salon",
    "description": "ÈÅ∏„Å∂„Å†„Åë„Åß‰æùÈ†ºÊñáÁ´†„ÇíËá™ÂãïÁîüÊàêÔºÅÂàùÂøÉËÄÖ„ÇÇÂÆâÂøÉ„ÅÆÊ≠å„Å£„Å¶„Åø„ÅüMIX‰æùÈ†º„Éï„Ç©„Éº„É†„ÄÇ",
    "url": "https://ryuzanmix.github.io/request-form.html",
    "isPartOf": {
      "@type": "WebSite",
      "name": "Ryuzan Mix Salon",
      "url": "https://ryuzanmix.github.io/"
    },
    "about": {
      "@type": "Service",
      "name": "Ê≠å„Å£„Å¶„Åø„ÅüMIX„Çµ„Éº„Éì„Çπ",
      "provider": {
        "@type": "Organization",
        "name": "Ryuzan Mix Salon"
      }
    }
  }
  </script>
</body>
</html>